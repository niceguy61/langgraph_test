---

| [â¬…ï¸ X-Ray](./X-Ray.md) | [ğŸ“‘ Day 4 ëª©ì°¨](./README.md) | [ğŸ  Week 4](../README.md) | [Athena â¡ï¸](./Athena.md) |

---

# CloudTrail ì™„ì „ ì •ë³µ

## ğŸ“Œ í•µì‹¬ ëª©ì  (What & Why)

> **í•œ ì¤„ ì •ì˜:** CloudTrailì€ AWS ê³„ì •ì˜ í™œë™ì„ ì¶”ì í•˜ê³  ê°ì‚¬í•˜ê¸° ìœ„í•œ AWSì˜ ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

### ì´ ì„œë¹„ìŠ¤ê°€ í•´ê²°í•˜ëŠ” ë¬¸ì œ
**ê¸°ì¡´ì˜ ë¬¸ì œì :**
- **ë¬¸ì œ 1:** AWS ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ í™œë™ì„ ìˆ˜ë™ìœ¼ë¡œ ê¸°ë¡í•´ì•¼ í•˜ë©°, ë¡œê·¸ ìˆ˜ì§‘ ë° ë¶„ì„ì— ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ì—ˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, IAM ì‚¬ìš©ì ê¶Œí•œ ë³€ê²½ ì´ë ¥ì€ ìˆ˜ë™ìœ¼ë¡œ í™•ì¸í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.  
- **ë¬¸ì œ 2:** ë³´ì•ˆ ìœ„í˜‘ì´ë‚˜ ì˜¤ì‘ë™ ë°œìƒ ì‹œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì›ì¸ì„ íŒŒì•…í•˜ê¸° ì–´ë ¤ì› ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, S3 ë²„í‚·ì— ì˜ë„ì¹˜ ì•Šì€ íŒŒì¼ ì—…ë¡œë“œëŠ” ìˆ˜ë™ìœ¼ë¡œ ê°ì‹œí•´ì•¼ í–ˆìŠµë‹ˆë‹¤.  
- **ë¬¸ì œ 3:** ë‹¤ì–‘í•œ AWS ì„œë¹„ìŠ¤ ë¡œê·¸ë¥¼ í†µí•© ë¶„ì„í•˜ëŠ” ë° ë³µì¡í•œ í”„ë¡œì„¸ìŠ¤ê°€ í•„ìš”í–ˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, EC2ì™€ RDS ë¡œê·¸ë¥¼ ë¶„ë¦¬í•´ ë¶„ì„í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.  

**CloudTrailë¡œ í•´ê²°:**
- **í•´ê²° 1:** AWS ë¦¬ì†ŒìŠ¤ì˜ ëª¨ë“  API í˜¸ì¶œ ë° ì‚¬ìš©ì í™œë™ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¡œê·¸í™”í•˜ì—¬ ê¸°ë¡í•©ë‹ˆë‹¤. ì´ëŠ” IAM í™œë™ì„ ìë™ìœ¼ë¡œ ì¶”ì í•´ ë³´ì•ˆ ìœ„í—˜ì„ ê°ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
- **í•´ê²° 2:** CloudWatchì™€ ì—°ë™í•´ ì‹¤ì‹œê°„ ì•Œë¦¼ì„ ì œê³µí•˜ë©°, X-Rayì™€ í•¨ê»˜ íŠ¸ë˜í”½ íŒ¨í„´ ë¶„ì„ì„ í†µí•´ ì›ì¸ì„ ë¹ ë¥´ê²Œ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
- **í•´ê²° 3:** S3ì— ë¡œê·¸ë¥¼ ì €ì¥í•˜ê³  Athena, OpenSearch ë“±ìœ¼ë¡œ ë¶„ì„í•´ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ ë¡œê·¸ë¥¼ í†µí•© ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

### ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°
CloudTrailì€ AWS í™˜ê²½ì— ì„¤ì¹˜ëœ **ë³´ì•ˆ ì¹´ë©”ë¼**ë¥¼ ìƒìƒí•´ë³´ì„¸ìš”. ëª¨ë“  ì‚¬ìš©ìì™€ ì„œë¹„ìŠ¤ì˜ í™œë™ì„ 24ì‹œê°„ ê¸°ë¡í•´ë‘ê³ , ì´ìƒ ì§•í›„ê°€ ë°œìƒí•˜ë©´ ì‹¤ì‹œê°„ìœ¼ë¡œ ê²½ê³ ë¥¼ ë³´ë‚´ì¤ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ëˆ„êµ°ê°€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ S3 ë²„í‚·ì— ì˜ì‹¬ìŠ¤ëŸ¬ìš´ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ë ¤ í•  ë•Œ, CloudTrailì€ ì´ ëª¨ë“  í–‰ë™ì„ ê¸°ë¡í•´ ê°ì‚¬ ë° ì¡°ì‚¬ì— ë„ì›€ì„ ì¤ë‹ˆë‹¤.  

---

## ğŸ¯ ì£¼ìš” ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ (When to Use)

| ì‹œë‚˜ë¦¬ì˜¤ | ì„¤ëª… | êµ¬ì²´ì  ì˜ˆì‹œ |
|---------|------|-----------|
| ì‹œë‚˜ë¦¬ì˜¤ 1 | AWS í™˜ê²½ì˜ ë³´ì•ˆ ìœ„í˜‘ ê°ì§€ ë° ì¡°ì‚¬ | ê¸°ì—…ì´ AWSì—ì„œ ë°ì´í„° ìœ ì¶œ ì‚¬ê³ ë¥¼ ì¡°ì‚¬í•  ë•Œ, CloudTrail ë¡œê·¸ë¥¼ í†µí•´ ëˆ„ê°€ ì–´ë–¤ ì‘ì—…ì„ ìˆ˜í–‰í–ˆëŠ”ì§€ ë¶„ì„ |
| ì‹œë‚˜ë¦¬ì˜¤ 2 | ë³´ì•ˆ ê·œì • ì¤€ìˆ˜ ë° ê°ì‚¬ | ê¸ˆìœµ ê¸°ì—…ì´ GDPR ê·œì •ì„ ì¤€ìˆ˜í•˜ê¸° ìœ„í•´ ì‚¬ìš©ì ê¶Œí•œ ë³€ê²½ ì´ë ¥ì„ ê¸°ë¡í•˜ê³  ê°ì‚¬ |
| ì‹œë‚˜ë¦¬ì˜¤ 3 | ë””ë²„ê¹… ë° íŠ¸ë˜í”½ ë¶„ì„ | ê°œë°œìê°€ EC2ì™€ RDS ê°„ ë°ì´í„° ì „ì†¡ ì´ìŠˆë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ íŠ¸ë˜í”½ íŒ¨í„´ì„ ë¶„ì„ |

**ì´ëŸ´ ë•Œ CloudTrailì„ ì„ íƒí•˜ì„¸ìš”:**
- âœ… **ì‹¤ì‹œê°„ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§**ì´ í•„ìš”í•œ ê²½ìš°  
- âœ… **AWS ë¦¬ì†ŒìŠ¤ í™œë™ ê¸°ë¡ ë° ê°ì‚¬**ê°€ í•„ìš”í•œ ê²½ìš°  
- âœ… **ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ ë¡œê·¸ í†µí•© ë¶„ì„**ì´ í•„ìš”í•œ ê²½ìš°  

**ì´ëŸ´ ë•ŒëŠ” ë‹¤ë¥¸ ì„œë¹„ìŠ¤ë¥¼ ê³ ë ¤í•˜ì„¸ìš”:**
- âŒ **ë‹¨ìˆœ ë¡œê·¸ ì €ì¥** â†’ **S3** (CloudTrail ë¡œê·¸ ì €ì¥ìš©)  
- âŒ **ë¡œê·¸ ë¶„ì„** â†’ **Athena** (CloudTrail ë¡œê·¸ ë¶„ì„)  
- âŒ **ì‹¤ì‹œê°„ ì•Œë¦¼** â†’ **CloudWatch ì•ŒëŒ** (CloudTrail ì´ë²¤íŠ¸ ê°ì§€)  

---

## ğŸ”— ì—°ê´€ ì„œë¹„ìŠ¤ (Used Together With)

| ì—°ê´€ ì„œë¹„ìŠ¤ | ì—°ë™ ëª©ì  | ì¼ë°˜ì ì¸ ì•„í‚¤í…ì²˜ |
|------------|---------|-----------------|
| **CloudWatch** | ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼ | CloudTrail â†’ CloudWatch â†’ ì•Œë¦¼ |
| **X-Ray** | ì„œë¹„ìŠ¤ ê°„ íŠ¸ë˜í”½ íŒ¨í„´ ë¶„ì„ | CloudTrail â†’ X-Ray â†’ íŠ¸ë˜í”½ ë¶„ì„ |
| **Athena** | ë¡œê·¸ ë°ì´í„° ë¶„ì„ ë° ì¡°íšŒ | CloudTrail â†’ S3 â†’ Athena â†’ ë¶„ì„ |
| **OpenSearch** | ë¡œê·¸ ê²€ìƒ‰ ë° ì‹œê°í™” | CloudTrail â†’ OpenSearch â†’ ëŒ€ì‹œë³´ë“œ |

**ìì£¼ ì‚¬ìš©ë˜ëŠ” ì•„í‚¤í…ì²˜ íŒ¨í„´:**
```
User â†’ CloudFront â†’ S3 (ë¡œê·¸ ì €ì¥)  
        â†“  
        CloudTrail (í™œë™ ê¸°ë¡)  
        â†“  
        CloudWatch (ëª¨ë‹ˆí„°ë§) â†’ Athena (ë¶„ì„) â†’ OpenSearch (ì‹œê°í™”)
```

---

## ğŸ’° ë¹„ìš© êµ¬ì¡° (Pricing)

| ê³¼ê¸ˆ í•­ëª© | ìš”ê¸ˆ | í”„ë¦¬í‹°ì–´ |
|----------|-----|---------|
| **ë¡œê·¸ ì €ì¥ ë° ì „ì†¡** | $0.10/GB (ì›” 10GB ë¬´ë£Œ) | ì›” 10GB ë¬´ë£Œ |
| **CloudWatch ì•ŒëŒ** | $0.05/1000ê°œ ì•ŒëŒ | 12ê°œì›” ë¬´ë£Œ |
| **X-Ray íŠ¸ë ˆì´ìŠ¤** | $0.0001/íŠ¸ë ˆì´ìŠ¤ | í•­ìƒ ë¬´ë£Œ |

**ë¹„ìš© ìµœì í™” íŒ:**
1. ğŸ’¡ **S3 ë¼ì´í”„ì‚¬ì´í´ ì •ì±…**ì„ í™œìš©í•´ ë¡œê·¸ë¥¼ ë‹¤ë¥¸ ì €ì¥ì†Œë¡œ ì´ë™í•´ ì €ì¥ ë¹„ìš© ì ˆê°  
2. ğŸ’¡ **CloudWatch ì•ŒëŒ**ì„ ì„¤ì •í•´ ë¹„ì •ìƒ í™œë™ ì‹œë§Œ ì•Œë¦¼ì„ ë³´ë‚´ê³ , ë¡œê·¸ ì „ì²´ ë¶„ì„ì€ Athenaìœ¼ë¡œ ëŒ€ì²´  
3. ğŸ’¡ **OpenSearch**ë¥¼ ì‚¬ìš©í•´ ë¡œê·¸ ê²€ìƒ‰ ì„±ëŠ¥ì„ ìµœì í™”í•´ CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê°ì†Œ  

> **âš ï¸ ë¹„ìš© ì£¼ì˜:** ë¡œê·¸ ì €ì¥ ìš©ëŸ‰ì´ 10GBë¥¼ ë„˜ìœ¼ë©´ ì¶”ê°€ ë¹„ìš©ì´ ë°œìƒí•˜ë©°, ë¡œê·¸ë¥¼ ë‹¤ë¥¸ ì§€ì—­ìœ¼ë¡œ ì „ì†¡í•  ê²½ìš° ë°ì´í„° ì „ì†¡ ë¹„ìš©ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í”„ë¦¬í‹°ì–´ë¥¼ í™œìš©í•´ ì´ˆê¸° ì‚¬ìš© ì‹œ ë¹„ìš©ì„ ì ˆì•½í•˜ì„¸ìš”.

## ğŸ“š í•µì‹¬ ê°œë…

### ê°œë… 1: **CloudTrailê³¼ AWS CloudWatchì˜ í†µí•©**
CloudTrailì€ AWSì—ì„œ ë°œìƒí•˜ëŠ” ëª¨ë“  API í˜¸ì¶œì„ ê¸°ë¡í•˜ê³ , CloudWatchì™€ ì—°ë™í•˜ì—¬ ì´ ê¸°ë¡ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. CloudTrailì€ AWS ë¦¬ì†ŒìŠ¤ì˜ ì‚¬ìš© í˜„í™©, ë³´ì•ˆ ì´ë²¤íŠ¸, ë³€ê²½ ì‚¬í•­ ë“±ì„ ì¶”ì í•˜ì—¬ ë³´ì•ˆ ë° ê·œì • ì¤€ìˆ˜ë¥¼ ê°•í™”í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. CloudWatchëŠ” CloudTrailì˜ ë¡œê·¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³ , ì§€í‘œë¥¼ í†µí•´ ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ê³¼ ìƒíƒœë¥¼ ë¶„ì„í•©ë‹ˆë‹¤. ì´ ë‘ ì„œë¹„ìŠ¤ì˜ í†µí•©ì€ AWS í™˜ê²½ì—ì„œ ë°œìƒí•˜ëŠ” ëª¨ë“  í™œë™ì„ ì¶”ì í•˜ê³ , ì´ìƒ ì§•í›„ë¥¼ ì¦‰ì‹œ ê°ì§€í•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤.

#### ì™œ ì¤‘ìš”í•œê°€?
- **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**: CloudTrailì˜ ë¡œê·¸ê°€ CloudWatchë¡œ ì „ì†¡ë˜ë©´, ì§€í‘œì™€ ê²½ë³´ë¥¼ í†µí•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
- **ê·œì • ì¤€ìˆ˜ ë° ë³´ì•ˆ ê°•í™”**: ëª¨ë“  API í˜¸ì¶œì„ ê¸°ë¡í•´ ë‚´ë¶€/ì™¸ë¶€ ìœ„í˜‘ì„ ê°ì§€í•˜ê³ , ì •ì±… ìœ„ë°˜ì„ ì˜ˆë°©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

#### ì„¸ë¶€ ìš”ì†Œ
| ìš”ì†Œ | ì„¤ëª… | ì˜ˆì‹œ |
|-----|-|-|
| **CloudTrail ë¡œê·¸ ì „ì†¡** | CloudTrailì€ S3 ë²„í‚·ì— ë¡œê·¸ë¥¼ ì €ì¥í•˜ê³ , CloudWatch Logsë¡œ ì „ì†¡í•©ë‹ˆë‹¤. | `aws cloudtrail describe-trails` ëª…ë ¹ì–´ë¡œ ë¡œê·¸ ì „ì†¡ ì„¤ì • í™•ì¸ |
| **CloudWatch ì§€í‘œ** | API í˜¸ì¶œ íšŸìˆ˜, ì˜¤ë¥˜ìœ¨, ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ë“±ì´ ê¸°ë¡ë©ë‹ˆë‹¤. | `aws cloudwatch get-metric-statistics`ë¡œ API í˜¸ì¶œ ìˆ˜ í™•ì¸ |
| **ê²½ë³´ ì„¤ì •** | íŠ¹ì • ì§€í‘œê°€ ì„ê³„ê°’ì„ ì´ˆê³¼í•˜ë©´ ê²½ë³´ë¥¼ íŠ¸ë¦¬ê±°í•˜ì—¬ ì•Œë¦¼ì„ ì œê³µí•©ë‹ˆë‹¤. | `aws cloudwatch put-metric-alarm`ë¡œ ê²½ë³´ ì¡°ê±´ ì„¤ì • |

> **ğŸ’¡ Tip:** CloudTrail ë¡œê·¸ë¥¼ CloudWatchë¡œ ì „ì†¡í•˜ë©´, ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ê³¼ ë¶„ì„ì´ ê°€ëŠ¥í•´ì ¸ ì´ë²¤íŠ¸ ê¸°ë°˜ ì•Œë¦¼ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë¹„ì •ìƒì ì¸ API í˜¸ì¶œì´ ê°ì§€ë˜ë©´ SNSë¥¼ í†µí•´ ì•Œë¦¼ì„ ì „ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### ê°œë… 2: **CloudWatch Logs Insightsì˜ ì¿¼ë¦¬ ë¬¸ë²•**
CloudWatch Logs InsightsëŠ” ë¡œê·¸ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ê¸° ìœ„í•œ ê°•ë ¥í•œ ì¿¼ë¦¬ ì–¸ì–´ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ ì¿¼ë¦¬ëŠ” ì •ê·œí‘œí˜„ì‹, í•„í„°ë§, ì§‘ê³„ ë“±ì„ í†µí•´ ë¡œê·¸ì—ì„œ íŠ¹ì • íŒ¨í„´ì„ ì¶”ì¶œí•˜ê³ , ì‚¬ìš©ì ì •ì˜ ë³´ê³ ì„œë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. CloudTrailì˜ ë¡œê·¸ë¥¼ ë¶„ì„í•  ë•Œ, ì´ ì¿¼ë¦¬ëŠ” ì´ë²¤íŠ¸ íƒ€ì…, ì‚¬ìš©ì ID, IP ì£¼ì†Œ ë“±ê³¼ ê°™ì€ í•„ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ í•„í„°ë§í•˜ê³  í†µê³„ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

#### ì‘ë™ ì›ë¦¬
1. **ë¡œê·¸ ê·¸ë£¹ ì„ íƒ**: CloudTrail ë¡œê·¸ë¥¼ í¬í•¨í•œ CloudWatch Logs ê·¸ë£¹ì„ ì„ íƒí•©ë‹ˆë‹¤.  
2. **ì¿¼ë¦¬ ì‘ì„±**: `filter`, `stats`, `sort` ë“±ì˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì˜ˆ: `filter @message like /ERROR/`  
3. **ê²°ê³¼ ì‹œê°í™”**: ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ëŒ€ì‹œë³´ë“œì— ì¶”ê°€í•˜ê±°ë‚˜, S3ë¡œ ë‚´ë³´ëƒ…ë‹ˆë‹¤.  

> **ğŸ’¡ Tip:** `stats` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´, íŠ¹ì • ì´ë²¤íŠ¸ì˜ ë¹ˆë„ìˆ˜ë¥¼ ê³„ì‚°í•  ìˆ˜ ìˆì–´ ë³´ì•ˆ ì´ë²¤íŠ¸ ë¶„ì„ì— ìœ ìš©í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `stats count by user_id`ë¡œ íŠ¹ì • ì‚¬ìš©ìê°€ ì–¼ë§ˆë‚˜ ë§ì€ API í˜¸ì¶œì„ í–ˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### ê°œë… 3: **X-Ray ì¶”ì  ë° ìƒ˜í”Œë§**
X-RayëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ì„ ë¶„ì„í•˜ê³ , API í˜¸ì¶œì˜ íë¦„ì„ ì¶”ì í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. CloudTrailê³¼ X-Rayë¥¼ ê²°í•©í•˜ë©´, API í˜¸ì¶œì´ ì–´ë–¤ ì„œë¹„ìŠ¤ì—ì„œ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ”ì§€ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë³‘ëª© í˜„ìƒ, ë„¤íŠ¸ì›Œí¬ ì§€ì—°, ì˜¤ë¥˜ ì›ì¸ì„ ë¶„ì„í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤. X-RayëŠ” ëª¨ë“  íŠ¸ë˜í”½ì„ ì¶”ì í•˜ì§€ ì•Šê³ , ìƒ˜í”Œë§ì„ í†µí•´ ìì›ì„ ì ˆì•½í•©ë‹ˆë‹¤.

#### ì£¼ìš” íŠ¹ì§•
1. **íŠ¸ë˜í”½ ì¶”ì **: API í˜¸ì¶œì´ ì‹œì‘ë¶€í„° ëê¹Œì§€ì˜ ê²½ë¡œë¥¼ ì¶”ì í•´ ë¬¸ì œ ì›ì¸ì„ íŒŒì•…í•©ë‹ˆë‹¤.  
2. **ìƒ˜í”Œë§ ì„¤ì •**: 100% ìƒ˜í”Œë§ì„ í†µí•´ ëª¨ë“  íŠ¸ë˜í”½ì„ ë¶„ì„í•  ìˆ˜ ìˆì§€ë§Œ, ìì› ì‚¬ìš©ëŸ‰ì´ ì¦ê°€í•˜ë¯€ë¡œ 1%~100% ë²”ìœ„ì—ì„œ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
3. **ì‚¬ìš©ì ì¹œí™”ì  UI**: íŠ¸ë˜í”½ì˜ ì‹œê°í™”ë¥¼ í†µí•´ ë³‘ëª© ì§€ì ê³¼ ì„±ëŠ¥ ê°œì„  í¬ì¸íŠ¸ë¥¼ ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

> **ğŸ’¡ Tip:** X-RayëŠ” AWS Lambda, EC2, API Gateway ë“± ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ì™€ í†µí•©ë˜ì–´, ë³µì¡í•œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œë„ íš¨ê³¼ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ–¥ï¸ AWS ì½˜ì†”ì—ì„œ CloudTrail ì‚¬ìš©í•˜ê¸°

### Step 1: CloudTrail ì„œë¹„ìŠ¤ ì ‘ì†  
1. AWS Management Consoleì— ë¡œê·¸ì¸í•©ë‹ˆë‹¤.  
   - URL: https://console.aws.amazon.com  
   - ë¡œê·¸ì¸ í›„, ìƒë‹¨ ë©”ë‰´ì—ì„œ **"Services"**ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.  
2. ìƒë‹¨ ê²€ìƒ‰ì°½ì— **"CloudTrail"**ì„ ì…ë ¥í•˜ê³ , ê²°ê³¼ì—ì„œ **"CloudTrail"**ì„ ì„ íƒí•©ë‹ˆë‹¤.  
3. **"CloudTrail"** ì„œë¹„ìŠ¤ í™”ë©´ì´ ì—´ë¦¬ë©´, **"Trails"** íƒ­ì—ì„œ ì‹œì‘í•©ë‹ˆë‹¤.  

> **ğŸ“¸ í™”ë©´ í™•ì¸:** CloudTrail ëŒ€ì‹œë³´ë“œê°€ í‘œì‹œë˜ê³ , **"Trails"** íƒ­ì´ ì„ íƒëœ ìƒíƒœì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.  

---

### Step 2: [ì£¼ìš” ì‘ì—… 1 - ë¦¬ì†ŒìŠ¤ ìƒì„±]  
1. **CloudTrail Trail ìƒì„±**  
   - **"Trails"** íƒ­ì—ì„œ **"Create trail"** ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.  
   - **"Trail name"** í•„ë“œì— ì›í•˜ëŠ” ì´ë¦„ì„ ì…ë ¥í•©ë‹ˆë‹¤ (ì˜ˆ: `MyCloudTrail`).  
   - **"S3 bucket name"** í•„ë“œì—ì„œ **"CloudWatch Logs"**ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.  
     - ì´ëŠ” CloudTrail ë¡œê·¸ê°€ **CloudWatch Logs**ì— ì €ì¥ë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.  
   - **"Enable logging"** ì²´í¬ë°•ìŠ¤ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.  
   - **"CloudWatch logs log group"** í•„ë“œì—ì„œ **`/aws/cloudtrail/MyCloudTrail`** í˜•ì‹ì˜ ë¡œê·¸ ê·¸ë£¹ì„ ìë™ ìƒì„±í•©ë‹ˆë‹¤.  

2. **CloudTrail ì„¤ì • í™•ì¸**  
   - **"CloudWatch logs log group"** í•„ë“œì—ì„œ ìƒì„±ëœ ë¡œê·¸ ê·¸ë£¹ì´ í‘œì‹œë©ë‹ˆë‹¤.  
   - **"Enable S3 logging"**ê³¼ **"Enable CloudWatch logs logging"**ì„ ëª¨ë‘ ì²´í¬í•©ë‹ˆë‹¤.  
   - **"S3 bucket name"** í•„ë“œëŠ” **"CloudWatch Logs"**ê°€ ìë™ ì„ íƒë©ë‹ˆë‹¤.  

3. **ë¦¬ì†ŒìŠ¤ ìƒì„± ì™„ë£Œ**  
   - **"Create trail"** ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì„¤ì •ì„ ì €ì¥í•©ë‹ˆë‹¤.  
   - ìƒì„± í›„, **"Trails"** ëª©ë¡ì—ì„œ ìƒˆ Trailì´ ë‚˜íƒ€ë‚˜ë©´ ì •ìƒì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.  

> **ğŸ“¸ í™”ë©´ í™•ì¸:** **"Trails"** ëª©ë¡ì— ìƒì„±ëœ Trailì´ í‘œì‹œë˜ê³ , **"CloudWatch logs log group"**ì´ ìƒì„±ëœ ìƒíƒœì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.  

---

### Step 3: [ì£¼ìš” ì‘ì—… 2 - ì„¤ì •/êµ¬ì„±]  
1. **CloudWatch Dashboard ìƒì„±**  
   - AWS Management Consoleì—ì„œ **"CloudWatch"** ì„œë¹„ìŠ¤ë¡œ ì´ë™í•©ë‹ˆë‹¤.  
   - **"Dashboards"** íƒ­ì—ì„œ **"Create dashboard"** ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.  
   - **"Dashboard name"**ì— `MyCloudTrailDashboard` ì…ë ¥ í›„, **"Create"** í´ë¦­í•©ë‹ˆë‹¤.  

2. **CloudWatch Alarm ì„¤ì •**  
   - **"CloudWatch"** ë©”ë‰´ì—ì„œ **"Alarms"** íƒ­ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.  
   - **"Create alarm"** ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.  
   - **"Alarm name"**ì— `MyCloudTrailAlarm` ì…ë ¥í•©ë‹ˆë‹¤.  
   - **"Metric"** í•„ë“œì—ì„œ **"CloudWatch Logs"** > **"Log group"** > **`/aws/cloudtrail/MyCloudTrail`**ì„ ì„ íƒí•©ë‹ˆë‹¤.  
   - **"Dimensions"**ì—ì„œ **"LogGroupName"**ì„ ì…ë ¥í•©ë‹ˆë‹¤.  
   - **"Evaluation period"**ê³¼ **"Threshold"**ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤ (ì˜ˆ: 10ë¶„, 100ê°œ ì´ìƒì˜ ë¡œê·¸).  
   - **"Alarm actions"**ì—ì„œ **"Send notification"**ì„ ì„ íƒí•˜ê³ , ì•Œë¦¼ì„ ë°›ì„ SNS í† í”½ì„ ì¶”ê°€í•©ë‹ˆë‹¤.  

3. **ëŒ€ì‹œë³´ë“œ ë° ê²½ë³´ ì—°ê²°**  
   - **"CloudWatch"** ë©”ë‰´ì—ì„œ **"Dashboards"** > **"MyCloudTrailDashboard"**ë¡œ ì´ë™í•©ë‹ˆë‹¤.  
   - **"Add metric"** ë²„íŠ¼ì„ í´ë¦­í•˜ê³ , **"CloudWatch Logs"** > **"Log group"** > **`/aws/cloudtrail/MyCloudTrail`**ì„ ì„ íƒí•©ë‹ˆë‹¤.  
   - **"Add to dashboard"**ë¥¼ í´ë¦­í•˜ì—¬ ëŒ€ì‹œë³´ë“œì— ë¡œê·¸ ë°ì´í„°ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.  

> **âš ï¸ ì£¼ì˜:** CloudTrail ë¡œê·¸ê°€ ìƒì„±ë˜ê¸°ê¹Œì§€ ì‹œê°„ì´ ì†Œìš”ë˜ë¯€ë¡œ, **"CloudWatch"**ì—ì„œ ì‹¤ì‹œê°„ ë°ì´í„° í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.  

---

### Step 4: ì„¤ì • í™•ì¸ ë° í…ŒìŠ¤íŠ¸  
1. **ìƒì„±ëœ ë¦¬ì†ŒìŠ¤ í™•ì¸ ë°©ë²•**  
   - **"CloudTrail"** > **"Trails"**ì—ì„œ **`MyCloudTrail`** Trailì´ í™œì„±í™”ëœ ìƒíƒœì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.  
   - **"CloudWatch"** > **"Logs"** > **"Log groups"**ì—ì„œ **`/aws/cloudtrail/MyCloudTrail`**ì´ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.  

2. **ìƒíƒœ í™•ì¸ ë°©ë²•**  
   - **"CloudWatch"** > **"Alarms"**ì—ì„œ **`MyCloudTrailAlarm`**ì´ í™œì„±í™”ëœ ìƒíƒœì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.  
   - **"CloudWatch"** > **"Dashboards"**ì—ì„œ **`MyCloudTrailDashboard`**ê°€ ì •ìƒì ìœ¼ë¡œ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.  

3. **ì •ìƒ ë™ì‘ í…ŒìŠ¤íŠ¸ ë°©ë²•**  
   - AWS Management Consoleì—ì„œ íŠ¹ì • ë¦¬ì†ŒìŠ¤ë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•©ë‹ˆë‹¤ (ì˜ˆ: S3 ë²„í‚· ì‚­ì œ).  
   - **"CloudTrail"** > **"Event history"**ì—ì„œ í•´ë‹¹ ì‘ì—…ì˜ API ë¡œê·¸ê°€ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.  
   - **"CloudWatch"** > **"Logs"**ì—ì„œ ë¡œê·¸ê°€ ì •ìƒì ìœ¼ë¡œ ìˆ˜ì§‘ë˜ê³  ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.  
   - **"CloudWatch"** > **"Alarms"**ì—ì„œ ê²½ë³´ê°€ íŠ¸ë¦¬ê±°ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.  

> **ğŸ’¡ Tip:** CloudTrail ë¡œê·¸ëŠ” ìƒì„± í›„ ìµœëŒ€ 180ì¼ê°„ ë³´ê´€ë˜ë¯€ë¡œ, ì¤‘ìš”í•œ ë¡œê·¸ëŠ” **S3 ë²„í‚·**ì— ë³„ë„ë¡œ ì €ì¥í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

## âŒ¨ï¸ AWS CLIë¡œ CloudTrail ì‚¬ìš©í•˜ê¸°

### ì‚¬ì „ ì¤€ë¹„
```bash
# AWS CLI ë²„ì „ í™•ì¸
aws --version

# AWS ìê²© ì¦ëª… í™•ì¸
aws sts get-caller-identity

# í˜„ì¬ ë¦¬ì „ í™•ì¸
aws configure get region
```

> **ğŸ’¡ Tip:** AWS CLIë¥¼ ì‚¬ìš©í•˜ê¸° ì „ì— `aws configure`ë¡œ ì•¡ì„¸ìŠ¤ í‚¤, ë¹„ë°€ë²ˆí˜¸, ë¦¬ì „, ìŠ¤í† ë¦¬ì§€ í´ë˜ìŠ¤ë¥¼ ì„¤ì •í•˜ì„¸ìš”.  
> **âš ï¸ ì£¼ì˜:** AWS CLI ëª…ë ¹ì–´ëŠ” ì‹¤ì œ ì„œë¹„ìŠ¤ëª…ê³¼ ë¦¬ì†ŒìŠ¤ëª…ì„ ì •í™•íˆ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆì‹œëŠ” `cloudtrail` ì„œë¹„ìŠ¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

---

### ì˜ˆì œ 1: CloudTrail ë¦¬ì†ŒìŠ¤ ì¡°íšŒ
```bash
# [CloudTrail íŠ¸ë ˆì´(Trail) ëª©ë¡ ì¡°íšŒ]
aws cloudtrail list-trails --query "[].TrailName" --output table
```

**ì˜µì…˜ ì„¤ëª…:**
| ì˜µì…˜ | ì„¤ëª… | ì˜ˆì‹œ ê°’ |
|-----|------|--------|
| `--query` | JSON ê²°ê³¼ í•„í„°ë§ (ì˜ˆ: `"[].TrailName"`ëŠ” íŠ¸ë ˆì´ ì´ë¦„ë§Œ ì¶œë ¥) | `"[].TrailName"` |
| `--output` | ì¶œë ¥ í˜•ì‹ (json, table, text) | `table` |

**ì˜ˆìƒ ì¶œë ¥:**
```
| TrailName     |
+---------------+
| my-trail-1    |
| my-trail-2    |
```

> **ğŸ’¡ Tip:** `list-trails` ëª…ë ¹ì–´ëŠ” í˜„ì¬ AWS ê³„ì •ì— ë“±ë¡ëœ ëª¨ë“  íŠ¸ë ˆì´ë¥¼ ëª©ë¡í™”í•©ë‹ˆë‹¤.  
> **âš ï¸ ì£¼ì˜:** íŠ¹ì • ë¦¬ì „ì˜ íŠ¸ë ˆì´ë§Œ ì¡°íšŒí•˜ë ¤ë©´ `--region` íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.

---

### ì˜ˆì œ 2: CloudTrail ë¦¬ì†ŒìŠ¤ ìƒì„±
```bash
# [CloudTrail íŠ¸ë ˆì´ ìƒì„±]
aws cloudtrail create-trail \
    --name "my-trail" \
    --s3-bucket-name "my-s3-bucket" \
    --is-multi-region-trail false \
    --enable-log-validation
```

**í•„ìˆ˜ ì˜µì…˜:**
- `--name`: íŠ¸ë ˆì´ ì´ë¦„ (ì˜ˆ: `my-trail`)
- `--s3-bucket-name`: ë¡œê·¸ ì €ì¥í•  S3 ë²„í‚· ì´ë¦„ (ì˜ˆ: `my-s3-bucket`)
- `--is-multi-region-trail`: ë©€í‹° ë¦¬ì „ íŠ¸ë ˆì´ ì—¬ë¶€ (true/false)
- `--enable-log-validation`: ë¡œê·¸ ê²€ì¦ ê¸°ëŠ¥ í™œì„±í™” ì—¬ë¶€

**ì˜ˆìƒ ì¶œë ¥:**
```json
{
    "TrailARN": "arn:aws:cloudtrail:region:account-id:trail/my-trail",
    "Name": "my-trail",
    "TrailStatus": "Active"
}
```

> **ğŸ’¡ Tip:** íŠ¸ë ˆì´ ìƒì„± ì‹œ `--enable-log-validation` ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ë¡œê·¸ì˜ ë¬´ê²°ì„±ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
> **âš ï¸ ì£¼ì˜:** S3 ë²„í‚·ì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ìƒì„± ì‹¤íŒ¨í•©ë‹ˆë‹¤. ì‚¬ì „ì— S3 ë²„í‚·ì„ ìƒì„±í•˜ì„¸ìš”.

---

### ì˜ˆì œ 3: CloudTrail ë¦¬ì†ŒìŠ¤ ìˆ˜ì •
```bash
# [CloudTrail íŠ¸ë ˆì´ ìˆ˜ì •]
aws cloudtrail update-trail \
    --name "my-trail" \
    --s3-bucket-name "my-updated-bucket" \
    --is-multi-region-trail true
```

**í•„ìˆ˜ ì˜µì…˜:**
- `--name`: ìˆ˜ì •í•  íŠ¸ë ˆì´ ì´ë¦„
- `--s3-bucket-name`: ìƒˆ S3 ë²„í‚· ì´ë¦„
- `--is-multi-region-trail`: ë©€í‹° ë¦¬ì „ íŠ¸ë ˆì´ ì—¬ë¶€

> **âš ï¸ ì£¼ì˜:** `update-trail` ëª…ë ¹ì–´ëŠ” íŠ¸ë ˆì´ ì´ë¦„ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ë¦„ ë³€ê²½ ì‹œ ìƒˆë¡œìš´ íŠ¸ë ˆì´ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.

---

### ì˜ˆì œ 4: CloudTrail ë¦¬ì†ŒìŠ¤ ì‚­ì œ
```bash
# [CloudTrail íŠ¸ë ˆì´ ì‚­ì œ]
aws cloudtrail delete-trail --name "my-trail"

# ì‚­ì œ í™•ì¸
aws cloudtrail get-trail --name "my-trail"
```

> **âš ï¸ ì£¼ì˜:** ì‚­ì œëŠ” ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì‚­ì œ í›„ `get-trail` ëª…ë ¹ì–´ëŠ” ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.  
> **ğŸ’¡ Tip:** ì‚­ì œ ì „ì— `--force` íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€í•˜ë©´ ì¦‰ì‹œ ì‚­ì œë©ë‹ˆë‹¤.  
> **âš ï¸ ì£¼ì˜:** ì‚­ì œ í›„ S3 ë²„í‚·ì— ë‚¨ì€ ë¡œê·¸ëŠ” ì‚­ì œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë³„ë„ë¡œ ì‚­ì œí•´ì•¼ í•©ë‹ˆë‹¤.

---

### ìì£¼ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ ì •ë¦¬
```bash
# ì¡°íšŒ
aws cloudtrail list-trails
aws cloudtrail get-trail --name "trail-name"

# ìƒì„±
aws cloudtrail create-trail --name "trail-name" --s3-bucket-name "bucket-name"

# ìˆ˜ì •
aws cloudtrail update-trail --name "trail-name" --s3-bucket-name "new-bucket-name"

# ì‚­ì œ
aws cloudtrail delete-trail --name "trail-name"
```

> **ğŸ’¡ Tip:** CloudTrail íŠ¸ë ˆì´ ìƒì„± ì‹œ `--enable-log-validation`ì„ ì‚¬ìš©í•˜ë©´ ë¡œê·¸ ë¬´ê²°ì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
> **âš ï¸ ì£¼ì˜:** AWS Free Tierì€ 1ê°œì˜ íŠ¸ë ˆì´ ìƒì„±ê³¼ 1GBì˜ ë¡œê·¸ ì €ì¥ ê³µê°„ì´ ì œê³µë©ë‹ˆë‹¤. ë¬´ë£Œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ¯ SAA-C03 ì‹œí—˜ í•µì‹¬ í¬ì¸íŠ¸

### ì‹œí—˜ì—ì„œ ìì£¼ ì¶œì œë˜ëŠ” CloudTrail í¬ì¸íŠ¸

#### ğŸ“Œ í•µì‹¬ ì¶œì œ í¬ì¸íŠ¸ TOP 5  
1. **CloudTrailì„ í†µí•œ AWS API í˜¸ì¶œ ë¡œê¹…**  
   - ì„¤ëª…: AWS ë¦¬ì†ŒìŠ¤ ë³€ê²½ ë° ê´€ë¦¬ì í™œë™ì„ ì¶”ì í•˜ì—¬ ë³´ì•ˆ ë° ê·œì • ì¤€ìˆ˜ë¥¼ ì§€ì›í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥ì…ë‹ˆë‹¤. API í˜¸ì¶œ ê¸°ë¡ì€ ì‚¬ê³  ì¡°ì‚¬ì™€ ë³´ì•ˆ ìœ„í˜‘ íƒì§€ì— í•„ìˆ˜ì ì…ë‹ˆë‹¤.  
   - í‚¤ì›Œë“œ: `API call logging`, `security auditing`  

2. **CloudTrail Trailê³¼ Log File ê´€ë¦¬**  
   - ì„¤ëª…: Trailì€ ë¡œê·¸ íŒŒì¼ì„ S3 ë²„í‚·ìœ¼ë¡œ ì „ì†¡í•˜ëŠ” ì„¤ì •ì„ ë‹´ë‹¹í•˜ê³ , Log Fileì€ ì‹¤ì œ API í˜¸ì¶œ ê¸°ë¡ì„ ì €ì¥í•©ë‹ˆë‹¤. Trailì˜ í™œì„±í™” ì—¬ë¶€ê°€ ë¡œê¹… ê¸°ëŠ¥ì˜ ê°€ìš©ì„±ì— ì§ì ‘ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.  
   - í‚¤ì›Œë“œ: `trail configuration`, `log file retention`  

3. **CloudTrailê³¼ CloudWatch, Lambdaì˜ í†µí•© í™œìš©**  
   - ì„¤ëª…: CloudTrailì˜ ë¡œê·¸ë¥¼ CloudWatchì—ì„œ ë©”íŠ¸ë¦­ìœ¼ë¡œ ë³€í™˜í•˜ê±°ë‚˜, Lambdaë¥¼ í†µí•´ ì‹¤ì‹œê°„ ë¶„ì„ì„ ìˆ˜í–‰í•˜ëŠ” ê²½ìš°ê°€ ì‹œí—˜ì—ì„œ ìì£¼ ì¶œì œë©ë‹ˆë‹¤. ì´ëŠ” ë¡œê¹… ë°ì´í„°ì˜ í™œìš© ë°©ì‹ì„ ë¬»ëŠ” ìœ í˜•ì…ë‹ˆë‹¤.  
   - í‚¤ì›Œë“œ: `integration`, `centralized logging`  

4. **CloudTrailì˜ ì œí•œì‚¬í•­ ë° ë¹„ìš© êµ¬ì¡° ì´í•´**  
   - ì„¤ëª…: ë¡œê·¸ íŒŒì¼ì˜ í¬ê¸°, S3 ë²„í‚· ì €ì¥ ê³µê°„, ë°ì´í„° ì „ì†¡ ë¹„ìš©ì´ ì‹œí—˜ì—ì„œ ìì£¼ ë‹¤ë£¨ëŠ” ì£¼ì œì…ë‹ˆë‹¤. íŠ¹íˆ í”„ë¦¬í‹°ì–´ì˜ ì œí•œ ì‚¬í•­(ì˜ˆ: 1ë…„ê°„ 50GB)ì„ íŒŒì•…í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.  
   - í‚¤ì›Œë“œ: `cost structure`, `storage limits`  

5. **CloudTrailì˜ ë³´ì•ˆ ë° ê¶Œí•œ ì„¤ì •**  
   - ì„¤ëª…: ë¡œê·¸ íŒŒì¼ ì ‘ê·¼ ê¶Œí•œì„ IAM ì •ì±…ìœ¼ë¡œ ì œì–´í•˜ëŠ” ë°©ì‹ì€ ë³´ì•ˆ ì‚¬ê³ ì˜ ì›ì¸ì„ ì¤„ì´ëŠ” í•µì‹¬ ì‚¬í•­ì…ë‹ˆë‹¤. íŠ¹íˆ `cloudtrail:PutLogEvents` ê¶Œí•œê³¼ ê´€ë ¨ëœ ì‚¬ë¡€ê°€ ìì£¼ ë“±ì¥í•©ë‹ˆë‹¤.  
   - í‚¤ì›Œë“œ: `IAM policy`, `log access control`  

#### âš ï¸ ì‹œí—˜ì—ì„œ ìì£¼ ë‚˜ì˜¤ëŠ” í•¨ì •  
| í•¨ì • ìœ í˜• | ì„¤ëª… | ì˜¬ë°”ë¥¸ ë‹µë³€ |  
|----------|------|------------|  
| í•¨ì • 1 | "CloudTrailì€ ë¡œê·¸ íŒŒì¼ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì œê³µí•œë‹¤"ê³  ê¸°ìˆ ëœ ë¬¸ì¥ | CloudTrailì€ ë¡œê·¸ íŒŒì¼ì„ S3ì— ì €ì¥í•˜ê³ , CloudWatch Logsì—ì„œ ì‹¤ì‹œê°„ ë¶„ì„ì´ ê°€ëŠ¥í•¨ì—ë„ ë¶ˆêµ¬í•˜ê³ , **ì‹¤ì‹œê°„ ì œê³µ**ì€ ì•„ë‹˜ |  
| í•¨ì • 2 | "CloudTrailì€ AWS Configì˜ ë³€ê²½ ì‚¬í•­ì„ ê¸°ë¡í•œë‹¤"ê³  ê¸°ìˆ ëœ ë¬¸ì¥ | CloudTrailì€ API í˜¸ì¶œì„ ê¸°ë¡í•˜ê³ , AWS ConfigëŠ” ë¦¬ì†ŒìŠ¤ ë³€ê²½ ì‚¬í•­ì„ ì¶”ì í•¨ |  
| í•¨ì • 3 | "CloudTrailì˜ ë¡œê·¸ íŒŒì¼ì€ ì•”í˜¸í™”ë˜ì§€ ì•ŠëŠ”ë‹¤"ëŠ” ë¬¸ì¥ | ë¡œê·¸ íŒŒì¼ì€ S3 ë²„í‚·ì˜ ì„œë²„ ì¸¡ ì•”í˜¸í™” ì„¤ì •ì— ë”°ë¼ ì•”í˜¸í™”ë˜ë©°, ë³„ë„ì˜ ì•”í˜¸í™” ì„¤ì •ì´ í•„ìš”í•¨ |  

#### ğŸ”„ CloudTrail vs ë¹„ìŠ·í•œ ì„œë¹„ìŠ¤ ë¹„êµ (ì‹œí—˜ ë‹¨ê³¨!)  
| ë¹„êµ í•­ëª© | CloudTrail | ëŒ€ì•ˆ ì„œë¹„ìŠ¤ | ì„ íƒ ê¸°ì¤€ |  
|----------|----------|-----------|----------|  
| **ìš©ë„** | AWS API í˜¸ì¶œ ê¸°ë¡ ë° ë³´ì•ˆ ê°ì‚¬ | CloudWatch Logs (ì¼ë°˜ ë¡œê·¸ ê´€ë¦¬), AWS Config (ë¦¬ì†ŒìŠ¤ ë³€ê²½ ì¶”ì ) | **ë³´ì•ˆ ê°ì‚¬ ë° API í™œë™ ì¶”ì ** ì‹œ ì„ íƒ |  
| **í™•ì¥ì„±** | S3 ë²„í‚·ì— ë¡œê·¸ ì €ì¥, ë¬´í•œ ì €ì¥ ê°€ëŠ¥ | CloudWatch Logs (AWS Managed) | **ê³ ìš©ëŸ‰ ë¡œê¹… ë° ì¥ê¸° ë³´ê´€** ì‹œ ì„ íƒ |  
| **ë¹„ìš©** | S3 ì €ì¥ ë¹„ìš© + ë°ì´í„° ì „ì†¡ ë¹„ìš© | CloudWatch Logs (AWS Managed) | **ìì²´ ì„œë²„ ì¸í”„ë¼ êµ¬ì¶•** ì‹œ ì„ íƒ |  
| **ì§€ì—°ì‹œê°„** | ì‹¤ì‹œê°„ ë¡œê¹… ê°€ëŠ¥ | CloudWatch Logs (AWS Managed) | **ì‹¤ì‹œê°„ ë¶„ì„ ë° ëŒ€ì‹œë³´ë“œ ìƒì„±** ì‹œ ì„ íƒ |  

#### ğŸ“ ì‹œí—˜ ëŒ€ë¹„ ì²´í¬ë¦¬ìŠ¤íŠ¸  
- [ ] CloudTrailì˜ í•µì‹¬ ëª©ì ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ì„¤ëª…í•  ìˆ˜ ìˆëŠ”ê°€?  
- [ ] CloudTrailì„ ì„ íƒí•´ì•¼ í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì•Œê³  ìˆëŠ”ê°€? (ì˜ˆ: ë³´ì•ˆ ê°ì‚¬, API í™œë™ ì¶”ì )  
- [ ] CloudTrailì˜ ì œí•œì‚¬í•­/í•œê³„ë¥¼ ì•Œê³  ìˆëŠ”ê°€? (ì˜ˆ: S3 ì €ì¥ ê³µê°„, í”„ë¦¬í‹°ì–´ ì œí•œ)  
- [ ] CloudTrailê³¼ ë¹„ìŠ·í•œ ì„œë¹„ìŠ¤ì˜ ì°¨ì´ì ì„ ì„¤ëª…í•  ìˆ˜ ìˆëŠ”ê°€? (ì˜ˆ: CloudWatch Logs vs. CloudTrail)  
- [ ] CloudTrailì˜ ë¹„ìš© êµ¬ì¡°ë¥¼ ì´í•´í•˜ê³  ìˆëŠ”ê°€? (S3 ì €ì¥, ë°ì´í„° ì „ì†¡, IAM ì •ì±… ê´€ë¦¬)  

#### ğŸ’¡ ì‹œí—˜ íŒ  
> **í‚¤ì›Œë“œ ë§¤ì¹­:** ë¬¸ì œì—ì„œ ì´ëŸ° í‚¤ì›Œë“œê°€ ë‚˜ì˜¤ë©´ CloudTrailì„ ë– ì˜¬ë¦¬ì„¸ìš”:  
> - **API call logging**  
> - **security audit**  
> - **compliance monitoring**  
> - **log file retention**  
> - **IAM policy for logs**

---

| [â¬…ï¸ X-Ray](./X-Ray.md) | [ğŸ“‘ Day 4 ëª©ì°¨](./README.md) | [ğŸ  Week 4](../README.md) | [Athena â¡ï¸](./Athena.md) |

---
