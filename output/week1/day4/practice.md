# Week 1 Day 4 ì‹¤ìŠµ ê°€ì´ë“œ

## âš ï¸ í•„ìˆ˜ ì‚¬ì „ ì¤€ë¹„

> **ğŸš¨ ì¤‘ìš”:** ì‹¤ìŠµì„ ì‹œì‘í•˜ê¸° ì „ì— ë°˜ë“œì‹œ ì•„ë˜ ê°€ì´ë“œë¥¼ ë¨¼ì € ì™„ë£Œí•˜ì„¸ìš”!

### ğŸ“š í•„ìˆ˜ ì„ í–‰ ë¬¸ì„œ
ì‹¤ìŠµì„ ì‹œì‘í•˜ê¸° ì „ì— ë‹¤ìŒ ë¬¸ì„œë“¤ì„ **ë°˜ë“œì‹œ** ë¨¼ì € ì½ê³  ì™„ë£Œí•˜ì„¸ìš”:

| ë¬¸ì„œ | ì„¤ëª… | í•„ìˆ˜ ì—¬ë¶€ |
|-----|------|----------|
| [AWS ê³„ì • ìƒì„± ê°€ì´ë“œ](../prerequisites/aws-account-setup.md) | AWS ê³„ì •ì´ ì—†ë‹¤ë©´ ì´ ê°€ì´ë“œë¥¼ ë”°ë¼ ê³„ì •ì„ ìƒì„±í•˜ì„¸ìš” | âœ… í•„ìˆ˜ |
| [AWS CLI ì„¤ì¹˜ ê°€ì´ë“œ](../prerequisites/aws-cli-setup.md) | AWS CLI ì„¤ì¹˜ ë° ì„¤ì • ë°©ë²• | âœ… í•„ìˆ˜ |
| [IAM ì‚¬ìš©ì ìƒì„± ê°€ì´ë“œ](../prerequisites/iam-user-setup.md) | ì‹¤ìŠµìš© IAM ì‚¬ìš©ì ìƒì„± ë°©ë²• | âœ… í•„ìˆ˜ |
| [VS Code ì„¤ì • ê°€ì´ë“œ](../prerequisites/vscode-setup.md) | ê°œë°œ í™˜ê²½ ì„¤ì • (ì„ íƒ) | ì„ íƒ |

### âœ… ì‚¬ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸
ì‹¤ìŠµì„ ì‹œì‘í•˜ê¸° ì „ ì•„ë˜ í•­ëª©ë“¤ì„ ëª¨ë‘ í™•ì¸í•˜ì„¸ìš”:

- [ ] AWS ê³„ì •ì´ ìˆê³  ë¡œê·¸ì¸í•  ìˆ˜ ìˆë‹¤
- [ ] AWS CLIê°€ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ (`aws --version` ìœ¼ë¡œ í™•ì¸)
- [ ] AWS CLI ìê²© ì¦ëª…ì´ ì„¤ì •ë˜ì–´ ìˆë‹¤ (`aws sts get-caller-identity` ë¡œ í™•ì¸)
- [ ] ì‹¤ìŠµì— í•„ìš”í•œ IAM ê¶Œí•œì´ ìˆë‹¤
- [ ] ê²°ì œ ì•Œë¦¼ì´ ì„¤ì •ë˜ì–´ ìˆë‹¤ (ì˜ˆìƒì¹˜ ëª»í•œ ë¹„ìš© ë°©ì§€)

```bash
# ì‚¬ì „ ì¤€ë¹„ í™•ì¸ ëª…ë ¹ì–´
aws --version
aws sts get-caller-identity
```

> **âš ï¸ ì£¼ì˜:** ìœ„ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ëª¨ë‘ ì™„ë£Œë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì‹¤ìŠµì„ ì§„í–‰í•˜ì§€ ë§ˆì„¸ìš”!  
> ë¬¸ì œ ë°œìƒ ì‹œ í•´ê²°ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ¯ ì‹¤ìŠµ ëª©í‘œ
ì´ ì‹¤ìŠµì„ ì™„ë£Œí•˜ë©´ ë‹¤ìŒì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- [ ] EBS ë³¼ë¥¨ ìƒì„± ë° ì¸ìŠ¤í„´ìŠ¤ì— ì—°ê²°
- [ ] EBS ìŠ¤ëƒ…ìƒ· ìƒì„± ë° ê´€ë¦¬
- [ ] ë³´ì•ˆ ê·¸ë£¹ ê·œì¹™ì„ í†µí•´ íŠ¸ë˜í”½ ì œì–´

## â±ï¸ ì˜ˆìƒ ì†Œìš” ì‹œê°„
- ì „ì²´ ì‹¤ìŠµ: ì•½ 30-45ë¶„
- Step 1: ì•½ 10ë¶„
- Step 2: ì•½ 15ë¶„
- Step 3: ì•½ 10ë¶„
- ë¦¬ì†ŒìŠ¤ ì •ë¦¬: ì•½ 5ë¶„

---

## ğŸ“ ì‹¤ìŠµ ë‹¨ê³„

### Step 1: EBS ë³¼ë¥¨ ìƒì„± ë° ì¸ìŠ¤í„´ìŠ¤ ì—°ê²° (ì•½ 10ë¶„)

#### 1.1 EBS ë³¼ë¥¨ ìƒì„±
**AWS CLI ëª…ë ¹ì–´:**
```bash
aws ec2 create-volume --availability-zone ap-northeast-2a --size 20 --volume-type gp3
```

**ì˜ˆìƒ ì¶œë ¥:**
```
{
    "VolumeId": "vol-0abcdef1234567890"
}
```

> **ğŸ’¡ ì„¤ëª…:**  
> - `--availability-zone`: ë³¼ë¥¨ì„ ë°°ì¹˜í•  ì¡´ ì„ íƒ (ì˜ˆ: `ap-northeast-2a`)  
> - `--size`: ë³¼ë¥¨ í¬ê¸° (GB ë‹¨ìœ„)  
> - `--volume-type`: ë³¼ë¥¨ ìœ í˜• (gp3, io2, st1, sc1 ì¤‘ ì„ íƒ)  
> - `gp3`ëŠ” ì¼ë°˜ì ì¸ IOPS/Throughput ì„±ëŠ¥ì„ ì œê³µí•˜ëŠ” ë³¼ë¥¨ ìœ í˜•ì…ë‹ˆë‹¤.

#### 1.2 EBS ë³¼ë¥¨ ì¸ìŠ¤í„´ìŠ¤ì— ì—°ê²°
**AWS CLI ëª…ë ¹ì–´:**
```bash
aws ec2 attach-volume --volume-id vol-0abcdef1234567890 --instance-id i-01234567890abcdef --device /dev/sdh
```

**ì˜ˆìƒ ì¶œë ¥:**
```
{
    "Attachments": [
        {
            "AttachTime": "2023-10-05T08:00:00.000Z",
            "Device": "/dev/sdh",
            "State": "attached",
            "VolumeId": "vol-0abcdef1234567890"
        }
    ]
}
```

> **ğŸ“¸ í™”ë©´ í™•ì¸:**  
> AWS ì½˜ì†”ì—ì„œ **EC2 > Volumes** íƒ­ì—ì„œ ìƒì„±í•œ ë³¼ë¥¨ì´ `attached` ìƒíƒœì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.

#### âœ… Step 1 ì™„ë£Œ í™•ì¸
- [ ] `vol-0abcdef1234567890` ë³¼ë¥¨ ìƒì„± ì™„ë£Œ  
- [ ] ë³¼ë¥¨ì´ ì¸ìŠ¤í„´ìŠ¤ `i-01234567890abcdef`ì— ì—°ê²°ë¨

---

### Step 2: EBS ìŠ¤ëƒ…ìƒ· ìƒì„± ë° ê´€ë¦¬ (ì•½ 15ë¶„)

#### 2.1 EBS ìŠ¤ëƒ…ìƒ· ìƒì„±
**AWS CLI ëª…ë ¹ì–´:**
```bash
aws ec2 create-snapshot --volume-id vol-0abcdef1234567890 --description "Backup for my EC2 instance"
```

**ì˜ˆìƒ ì¶œë ¥:**
```
{
    "SnapshotId": "snap-01234567890abcdef"
}
```

> **ğŸ’¡ ì„¤ëª…:**  
> - `--description`: ìŠ¤ëƒ…ìƒ· ì„¤ëª… (ê´€ë¦¬ ìš©ë„)  
> - ìŠ¤ëƒ…ìƒ· ìƒì„± ì‹œ ë³¼ë¥¨ì´ `detached` ìƒíƒœê°€ ë˜ë©°, ë³¼ë¥¨ì´ ë‹¤ì‹œ ì—°ê²°ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

#### 2.2 ìŠ¤ëƒ…ìƒ· ìƒíƒœ í™•ì¸
**AWS CLI ëª…ë ¹ì–´:**
```bash
aws ec2 describe-snapshots --snapshot-ids snap-01234567890abcdef
```

**ì˜ˆìƒ ì¶œë ¥:**
```
{
    "Snapshots": [
        {
            "SnapshotId": "snap-01234567890abcdef",
            "VolumeId": "vol-0abcdef1234567890",
            "State": "completed",
            "OwnerId": "123456789012",
            "Description": "Backup for my EC2 instance"
        }
    ]
}
```

> **ğŸ“¸ í™”ë©´ í™•ì¸:**  
> AWS ì½˜ì†”ì—ì„œ **EC2 > Snapshots** íƒ­ì—ì„œ ìŠ¤ëƒ…ìƒ·ì´ `completed` ìƒíƒœì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.

#### âœ… Step 2 ì™„ë£Œ í™•ì¸
- [ ] `snap-01234567890abcdef` ìŠ¤ëƒ…ìƒ· ìƒì„± ì™„ë£Œ  
- [ ] ìŠ¤ëƒ…ìƒ· ìƒíƒœê°€ `completed`ë¡œ ë³€ê²½ë¨

---

### Step 3: ë³´ì•ˆ ê·¸ë£¹ ì„¤ì • (ì•½ 10ë¶„)

#### 3.1 ë³´ì•ˆ ê·¸ë£¹ ìƒì„±
**AWS CLI ëª…ë ¹ì–´:**
```bash
aws ec2 create-security-group --group-name MySecurityGroup --description "Allow SSH and HTTP"
```

**ì˜ˆìƒ ì¶œë ¥:**
```
{
    "GroupId": "sg-0abcdef1234567890"
}
```

> **ğŸ’¡ ì„¤ëª…:**  
> - `--group-name`: ë³´ì•ˆ ê·¸ë£¹ ì´ë¦„  
> - `--description`: ë³´ì•ˆ ê·¸ë£¹ ì„¤ëª… (ê´€ë¦¬ ìš©ë„)

#### 3.2 ë³´ì•ˆ ê·œì¹™ ì¶”ê°€
**AWS CLI ëª…ë ¹ì–´:**
```bash
aws ec2 authorize-security-group-ingress --group-id sg-0abcdef1234567890 --protocol tcp --port-range 22,80 --cidr 0.0.0.0/0
```

**ì˜ˆìƒ ì¶œë ¥:**
```
{
    "Return": true
}
```

> **ğŸ“¸ í™”ë©´ í™•ì¸:**  
> AWS ì½˜ì†”ì—ì„œ **EC2 > Security Groups** íƒ­ì—ì„œ ìƒì„±í•œ ë³´ì•ˆ ê·¸ë£¹ì´ `MySecurityGroup`ì¸ì§€ í™•ì¸í•˜ê³ , í—ˆìš© ê·œì¹™ì´ `SSH (22)` ë° `HTTP (80)`ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.

#### âœ… Step 3 ì™„ë£Œ í™•ì¸
- [ ] `MySecurityGroup` ë³´ì•ˆ ê·¸ë£¹ ìƒì„± ì™„ë£Œ  
- [ ] `22` ë° `80` í¬íŠ¸ê°€ `0.0.0.0/0`ìœ¼ë¡œ í—ˆìš©ë¨

---

## âœ… ì‹¤ìŠµ ì™„ë£Œ í™•ì¸

### ìµœì¢… í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] EBS ë³¼ë¥¨ ìƒì„± ë° ì¸ìŠ¤í„´ìŠ¤ ì—°ê²° ì™„ë£Œ
- [ ] EBS ìŠ¤ëƒ…ìƒ· ìƒì„± ë° ìƒíƒœ í™•ì¸ ì™„ë£Œ
- [ ] ë³´ì•ˆ ê·¸ë£¹ ìƒì„± ë° ê·œì¹™ ì„¤ì • ì™„ë£Œ

### ì˜ˆìƒ ìµœì¢… ê²°ê³¼
```bash
# EBS ë³¼ë¥¨ ìƒíƒœ í™•ì¸
aws ec2 describe-volumes --volume-ids vol-0abcdef1234567890
```

**ì˜ˆìƒ ì¶œë ¥:**
```
{
    "Volumes": [
        {
            "Attachments": [
                {
                    "AttachTime": "2023-10-05T08:00:00.000Z",
                    "Device": "/dev/sdh",
                    "State": "attached",
                    "VolumeId": "vol-0abcdef1234567890"
                }
            ],
            "CreateTime": "2023-10-05T07:00:00.000Z",
            "Size": 20,
            "State": "in-use",
            "VolumeId": "vol-0abcdef1234567890"
        }
    ]
}
```

---

## ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë¬¸ì œ 1: `InvalidVolume.NotFound` ì˜¤ë¥˜
**ì¦ìƒ:**  
```bash
An error occurred (InvalidVolume.NotFound) when calling the AttachVolume operation: The volume 'vol-0abcdef1234567890' does not exist.
```

**ì›ì¸:**  
ë³¼ë¥¨ IDê°€ ì˜ëª» ì…ë ¥ë˜ì—ˆê±°ë‚˜, ë³¼ë¥¨ì´ ì‚­ì œë˜ì—ˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í•´ê²° ë°©ë²•:**
1. `aws ec2 describe-volumes`ë¡œ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
2. `aws ec2 delete-volume --volume-id vol-0abcdef1234567890`ë¡œ ì‚­ì œëœ ë³¼ë¥¨ ì œê±°

### ë¬¸ì œ 2: `AuthorizationRequired` ì˜¤ë¥˜
**ì¦ìƒ:**  
```bash
An error occurred (AuthorizationRequired) when calling the CreateVolume operation: You are unauthorized to perform this operation.
```

**ì›ì¸:**  
IAM ì‚¬ìš©ì ê¶Œí•œ ë¶€ì¡±

**í•´ê²° ë°©ë²•:**
1. IAM ì‚¬ìš©ìì— `AmazonEC2FullAccess` ì •ì±… ë¶€ì—¬
2. `aws sts get-caller-identity`ë¡œ ì‚¬ìš©ì í™•ì¸

### ë¬¸ì œ 3: ê¶Œí•œ ì˜¤ë¥˜ (AccessDenied)
**ì¦ìƒ:** `AccessDenied` ë˜ëŠ” `UnauthorizedAccess` ì˜¤ë¥˜

**í•´ê²° ë°©ë²•:**
1. IAM ì‚¬ìš©ì ê¶Œí•œ í™•ì¸
2. í•„ìš”í•œ ì •ì±… ì—°ê²°
```bash
# í˜„ì¬ ì‚¬ìš©ì ê¶Œí•œ í™•ì¸
aws sts get-caller-identity
```

---

## ğŸ§¹ ë¦¬ì†ŒìŠ¤ ì •ë¦¬ (í•„ìˆ˜!)

> **âš ï¸ ì¤‘ìš”:** ì‹¤ìŠµ ì™„ë£Œ í›„ ë°˜ë“œì‹œ ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•˜ì„¸ìš”!  
> ì •ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ **ì˜ˆìƒì¹˜ ëª»í•œ ë¹„ìš©**ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì •ë¦¬í•  ë¦¬ì†ŒìŠ¤ ëª©ë¡
- [ ] EBS ë³¼ë¥¨ `vol-0abcdef1234567890`
- [ ] ìŠ¤ëƒ…ìƒ· `snap-01234567890abcdef`
- [ ] ë³´ì•ˆ ê·¸ë£¹ `MySecurityGroup`

### ë¦¬ì†ŒìŠ¤ ì •ë¦¬ ëª…ë ¹ì–´
```bash
# 1. EBS ë³¼ë¥¨ ì‚­ì œ
aws ec2 delete-volume --volume-id vol-0abcdef1234567890

# 2. ìŠ¤ëƒ…ìƒ· ì‚­ì œ
aws ec2 delete-snapshot --snapshot-id snap-01234567890abcdef

# 3. ë³´ì•ˆ ê·¸ë£¹ ì‚­ì œ
aws ec2 delete-security-group --group-id sg-0abcdef1234567890
```

### ì •ë¦¬ ì™„ë£Œ í™•ì¸
```bash
# ë¦¬ì†ŒìŠ¤ê°€ ëª¨ë‘ ì‚­ì œë˜ì—ˆëŠ”ì§€ í™•ì¸
aws ec2 describe-volumes --filters Name=status-name,Values=in-use
aws ec2 describe-snapshots --filters Name=status-name,Values=completed
aws ec2 describe-security-groups --group-ids sg-0abcdef1234567890
```

---

## ğŸ“š ì¶”ê°€ í•™ìŠµ ìë£Œ
- [AWS EBS ê³µì‹ ë¬¸ì„œ](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-volumes.html)
- [AWS EFS ê³µì‹ ë¬¸ì„œ](https://docs.aws.amazon.com/efs/latest/ug/whatis-efs.html)
- [AWS Security Groups ê³µì‹ ë¬¸ì„œ](https://docs.aws.amazon.com/vpc/latest/userguide/security-groups.html)