# Week 2 Day 1 ì‹¤ìŠµ ê°€ì´ë“œ

## âš ï¸ í•„ìˆ˜ ì‚¬ì „ ì¤€ë¹„

> **ğŸš¨ ì¤‘ìš”:** ì‹¤ìŠµì„ ì‹œì‘í•˜ê¸° ì „ì— ë°˜ë“œì‹œ ì•„ë˜ ê°€ì´ë“œë¥¼ ë¨¼ì € ì™„ë£Œí•˜ì„¸ìš”!

### ğŸ“š í•„ìˆ˜ ì„ í–‰ ë¬¸ì„œ
ì‹¤ìŠµì„ ì‹œì‘í•˜ê¸° ì „ì— ë‹¤ìŒ ë¬¸ì„œë“¤ì„ **ë°˜ë“œì‹œ** ë¨¼ì € ì½ê³  ì™„ë£Œí•˜ì„¸ìš”:

| ë¬¸ì„œ | ì„¤ëª… | í•„ìˆ˜ ì—¬ë¶€ |
|-----|------|----------|
| [AWS ê³„ì • ìƒì„± ê°€ì´ë“œ](../prerequisites/aws-account-setup.md) | AWS ê³„ì •ì´ ì—†ë‹¤ë©´ ì´ ê°€ì´ë“œë¥¼ ë”°ë¼ ê³„ì •ì„ ìƒì„±í•˜ì„¸ìš” | âœ… í•„ìˆ˜ |
| [AWS CLI ì„¤ì¹˜ ê°€ì´ë“œ](../prerequisites/aws-cli-setup.md) | AWS CLI ì„¤ì¹˜ ë° ì„¤ì • ë°©ë²• | âœ… í•„ìˆ˜ |
| [IAM ì‚¬ìš©ì ìƒì„± ê°€ì´ë“œ](../prerequisites/iam-user-setup.md) | ì‹¤ìŠµìš© IAM ì‚¬ìš©ì ìƒì„± ë°©ë²• | âœ… í•„ìˆ˜ |
| [VS Code ì„¤ì • ê°€ì´ë“œ](../prerequisites/vscode-setup.md) | ê°œë°œ í™˜ê²½ ì„¤ì • (ì„ íƒ) | ì„ íƒ |

### âœ… ì‚¬ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸
ì‹¤ìŠµì„ ì‹œì‘í•˜ê¸° ì „ ì•„ë˜ í•­ëª©ë“¤ì„ ëª¨ë‘ í™•ì¸í•˜ì„¸ìš”:

- [ ] AWS ê³„ì •ì´ ìˆê³  ë¡œê·¸ì¸í•  ìˆ˜ ìˆë‹¤
- [ ] AWS CLIê°€ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ (`aws --version` ìœ¼ë¡œ í™•ì¸)
- [ ] AWS CLI ìê²© ì¦ëª…ì´ ì„¤ì •ë˜ì–´ ìˆë‹¤ (`aws sts get-caller-identity` ë¡œ í™•ì¸)
- [ ] ì‹¤ìŠµì— í•„ìš”í•œ IAM ê¶Œí•œì´ ìˆë‹¤
- [ ] ê²°ì œ ì•Œë¦¼ì´ ì„¤ì •ë˜ì–´ ìˆë‹¤ (ì˜ˆìƒì¹˜ ëª»í•œ ë¹„ìš© ë°©ì§€)

```bash
# ì‚¬ì „ ì¤€ë¹„ í™•ì¸ ëª…ë ¹ì–´
aws --version
aws sts get-caller-identity
```

> **âš ï¸ ì£¼ì˜:** ìœ„ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ëª¨ë‘ ì™„ë£Œë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì‹¤ìŠµì„ ì§„í–‰í•˜ì§€ ë§ˆì„¸ìš”!  
> ë¬¸ì œ ë°œìƒ ì‹œ í•´ê²°ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ¯ ì‹¤ìŠµ ëª©í‘œ
ì´ ì‹¤ìŠµì„ ì™„ë£Œí•˜ë©´ ë‹¤ìŒì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- [ ] VPCë¥¼ ìƒì„±í•˜ê³  CIDRì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤  
- [ ] í¼ë¸”ë¦­/í”„ë¼ì´ë¹— ì„œë¸Œë„·ì„ êµ¬ë¶„í•˜ì—¬ ìƒì„±í•  ìˆ˜ ìˆë‹¤  
- [ ] ë¼ìš°íŒ… í…Œì´ë¸”ì„ êµ¬ì„±í•˜ê³  ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´/NAT ê²Œì´íŠ¸ì›¨ì´ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤  

## â±ï¸ ì˜ˆìƒ ì†Œìš” ì‹œê°„
- ì „ì²´ ì‹¤ìŠµ: ì•½ 30-45ë¶„  
- Step 1: ì•½ 10ë¶„  
- Step 2: ì•½ 15ë¶„  
- Step 3: ì•½ 10ë¶„  
- ë¦¬ì†ŒìŠ¤ ì •ë¦¬: ì•½ 5ë¶„  

---

## ğŸ“ ì‹¤ìŠµ ë‹¨ê³„

### Step 1: VPC ìƒì„± (ì•½ 10ë¶„)

#### 1.1 CLIë¡œ VPC ìƒì„±
```bash
# CIDR 10.0.0.0/16ìœ¼ë¡œ VPC ìƒì„±
aws ec2 create-vpc --cidr-block 10.0.0.0/16 --tags Key=Name,Value=MyVPC
```

**ì˜ˆìƒ ì¶œë ¥:**
```
{
    "Vpc": {
        "VpcId": "vpc-0abcdef1234567890",
        "CidrBlock": "10.0.0.0/16",
        "State": "pending"
    }
}
```

> **ğŸ’¡ ì„¤ëª…:**  
> - `create-vpc` ëª…ë ¹ì–´ëŠ” VPCë¥¼ ìƒì„±í•©ë‹ˆë‹¤  
> - `--cidr-block`ì€ IP ì£¼ì†Œ ë²”ìœ„ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤ (ì˜ˆ: 10.0.0.0/16)  
> - `--tags`ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ì´ë¦„ì„ ì§€ì •í•©ë‹ˆë‹¤  
> - VPCëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í¼ë¸”ë¦­ ì¸í„°ë„· ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤  

#### 1.2 AWS ì½˜ì†”ì—ì„œ VPC í™•ì¸
1. ì„œë¹„ìŠ¤ ê²€ìƒ‰ì°½ì— **"VPC"** ì…ë ¥ í›„ ì„ íƒ  
2. **"VPCS"** íƒ­ì—ì„œ ìƒì„±í•œ VPCë¥¼ í™•ì¸  
3. **"VPC ID"**ê°€ `vpc-0abcdef1234567890` í˜•íƒœë¡œ í‘œì‹œë˜ë©´ ì •ìƒ  

> **ğŸ“¸ í™”ë©´ í™•ì¸:**  
> - VPC ëª©ë¡ì—ì„œ ìƒì„±í•œ VPCê°€ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸  
> - "State"ê°€ "available"ë¡œ ë³€ê²½ë˜ì—ˆëŠ”ì§€ í™•ì¸  

#### âœ… Step 1 ì™„ë£Œ í™•ì¸
- [ ] VPC ìƒì„± ì™„ë£Œ (VPC ID í™•ì¸)  
- [ ] VPC ìƒíƒœê°€ "available"ë¡œ ë³€ê²½ë¨  

---

### Step 2: ì„œë¸Œë„· ë° ë¼ìš°íŒ… í…Œì´ë¸” êµ¬ì„± (ì•½ 15ë¶„)

#### 2.1 í¼ë¸”ë¦­/í”„ë¼ì´ë¹— ì„œë¸Œë„· ìƒì„±
```bash
# í¼ë¸”ë¦­ ì„œë¸Œë„· (10.0.1.0/24)
aws ec2 create-subnet --vpc-id vpc-0abcdef1234567890 --cidr-block 10.0.1.0/24 --tags Key=Name,Value=PublicSubnet

# í”„ë¼ì´ë¹— ì„œë¸Œë„· (10.0.2.0/24)
aws ec2 create-subnet --vpc-id vpc-0abcdef1234567890 --cidr-block 10.0.2.0/24 --tags Key=Name,Value=PrivateSubnet
```

**ì˜ˆìƒ ì¶œë ¥:**
```
{
    "Subnet": {
        "SubnetId": "subnet-0123456789abcdef0",
        "VpcId": "vpc-0abcdef1234567890",
        "CidrBlock": "10.0.1.0/24",
        "State": "pending"
    }
}
```

> **ğŸ’¡ ì„¤ëª…:**  
> - í¼ë¸”ë¦­ ì„œë¸Œë„·ì€ ì¸í„°ë„· ì ‘ê·¼ì´ ê°€ëŠ¥í•´ì•¼ í•˜ë¯€ë¡œ **ê³µìš© IP í• ë‹¹**ì´ í•„ìš”í•©ë‹ˆë‹¤  
> - í”„ë¼ì´ë¹— ì„œë¸Œë„·ì€ ì¸í„°ë„· ì ‘ê·¼ì´ ë¶ˆí•„ìš”í•˜ë¯€ë¡œ **í”„ë¼ì´ë¹— IPë§Œ ì‚¬ìš©**  
> - `--tags`ëŠ” ë¦¬ì†ŒìŠ¤ ì‹ë³„ìš©ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤  

#### 2.2 ë¼ìš°íŒ… í…Œì´ë¸” êµ¬ì„±
```bash
# í¼ë¸”ë¦­ ë¼ìš°íŒ… í…Œì´ë¸” ìƒì„±
aws ec2 create-route-table --vpc-id vpc-0abcdef1234567890 --tags Key=Name,Value=PublicRouteTable

# ë¼ìš°íŒ… ê·œì¹™ ì¶”ê°€ (ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ ì—°ê²°)
aws ec2 create-route --route-table-id rtb-0123456789abcdef0 --destination-cidr-block 0.0.0.0/0 --gateway-id igw-0abcdef1234567890
```

**ì˜ˆìƒ ì¶œë ¥:**
```
{
    "RouteTable": {
        "RouteTableId": "rtb-0123456789abcdef0",
        "Routes": [
            {
                "DestinationCidrBlock": "0.0.0.0/0",
                "GatewayId": "igw-0abcdef1234567890",
                "State": "active"
            }
        ]
    }
}
```

> **ğŸ’¡ ì„¤ëª…:**  
> - ë¼ìš°íŒ… í…Œì´ë¸”ì€ íŠ¸ë˜í”½ì„ ì–´ë””ë¡œ ì „ë‹¬í• ì§€ ì •ì˜í•©ë‹ˆë‹¤  
> - `create-route` ëª…ë ¹ì–´ë¡œ ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ì™€ ì—°ê²°í•©ë‹ˆë‹¤  
> - `0.0.0.0/0`ì€ ëª¨ë“  ëª©ì ì§€ IPë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤  

#### âœ… Step 2 ì™„ë£Œ í™•ì¸
- [ ] í¼ë¸”ë¦­/í”„ë¼ì´ë¹— ì„œë¸Œë„· ìƒì„± ì™„ë£Œ  
- [ ] ë¼ìš°íŒ… í…Œì´ë¸”ì— ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ ì—°ê²°ë¨  

---

### Step 3: NAT ê²Œì´íŠ¸ì›¨ì´ ì„¤ì • (ì•½ 10ë¶„)

#### 3.1 NAT ê²Œì´íŠ¸ì›¨ì´ ìƒì„±
```bash
# í”„ë¼ì´ë¹— ì„œë¸Œë„·ì— NAT ê²Œì´íŠ¸ì›¨ì´ ìƒì„±
aws ec2 create-nat-gateway --subnet-id subnet-0123456789abcdef0 --tags Key=Name,Value=NATGateway
```

**ì˜ˆìƒ ì¶œë ¥:**
```
{
    "NatGateway": {
        "NatGatewayId": "nat-0123456789abcdef0",
        "SubnetId": "subnet-0123456789abcdef0",
        "State": "pending"
    }
}
```

> **ğŸ’¡ ì„¤ëª…:**  
> - NAT ê²Œì´íŠ¸ì›¨ì´ëŠ” í”„ë¼ì´ë¹— ì„œë¸Œë„·ì—ì„œ ì¸í„°ë„· ì ‘ê·¼ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤  
> - í”„ë¼ì´ë¹— ì„œë¸Œë„·ì—ë§Œ ìƒì„±í•´ì•¼ í•˜ë©°, í¼ë¸”ë¦­ ì„œë¸Œë„·ì€ í•„ìš” ì—†ìŠµë‹ˆë‹¤  
> - NAT ê²Œì´íŠ¸ì›¨ì´ëŠ” **AWS Free Tier**ì—ì„œ 1ê°œê¹Œì§€ ë¬´ë£Œì…ë‹ˆë‹¤  

#### 3.2 ë¼ìš°íŒ… í…Œì´ë¸” ì—…ë°ì´íŠ¸
```bash
# í”„ë¼ì´ë¹— ë¼ìš°íŒ… í…Œì´ë¸”ì— NAT ê²Œì´íŠ¸ì›¨ì´ ì—°ê²°
aws ec2 create-route --route-table-id rtb-0123456789abcdef1 --destination-cidr-block 0.0.0.0/0 --nat-gateway-id nat-0123456789abcdef0
```

**ì˜ˆìƒ ì¶œë ¥:**
```
{
    "RouteTable": {
        "RouteTableId": "rtb-0123456789abcdef1",
        "Routes": [
            {
                "DestinationCidrBlock": "0.0.0.0/0",
                "NatGatewayId": "nat-0123456789abcdef0",
                "State": "active"
            }
        ]
    }
}
```

> **ğŸ’¡ ì„¤ëª…:**  
> - í”„ë¼ì´ë¹— ì„œë¸Œë„·ì€ í¼ë¸”ë¦­ ë¼ìš°íŒ… í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë³„ë„ì˜ ë¼ìš°íŒ… í…Œì´ë¸”ì´ í•„ìš”í•©ë‹ˆë‹¤  
> - NAT ê²Œì´íŠ¸ì›¨ì´ë¥¼ ì—°ê²°í•˜ë©´ í”„ë¼ì´ë¹— ì„œë¸Œë„·ì—ì„œ ì¸í„°ë°˜íŠ¸ ì ‘ê·¼ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤  

#### âœ… Step 3 ì™„ë£Œ í™•ì¸
- [ ] NAT ê²Œì´íŠ¸ì›¨ì´ ìƒì„± ì™„ë£Œ  
- [ ] í”„ë¼ì´ë¹— ì„œë¸Œë„· ë¼ìš°íŒ… í…Œì´ë¸”ì— NAT ê²Œì´íŠ¸ì›¨ì´ ì—°ê²°ë¨  

---

## âœ… ì‹¤ìŠµ ì™„ë£Œ í™•ì¸

### ìµœì¢… í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] VPC ìƒì„± ì™„ë£Œ (VPC ID í™•ì¸)  
- [ ] í¼ë¸”ë¦­/í”„ë¼ì´ë¹— ì„œë¸Œë„· ìƒì„± ì™„ë£Œ  
- [ ] ë¼ìš°íŒ… í…Œì´ë¸”ì— ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ ë° NAT ê²Œì´íŠ¸ì›¨ì´ ì—°ê²°ë¨  

### ì˜ˆìƒ ìµœì¢… ê²°ê³¼
```bash
# ëª¨ë“  ë¦¬ì†ŒìŠ¤ í™•ì¸
aws ec2 describe-vpcs --vpc-ids vpc-0abcdef1234567890
aws ec2 describe-subnets --subnet-ids subnet-0123456789abcdef0 subnet-0123456789abcdef1
aws ec2 describe-route-tables --route-table-ids rtb-0123456789abcdef0 rtb-0123456789abcdef1
```

**ì˜ˆìƒ ì¶œë ¥:**
```
{
    "Vpcs": [
        {
            "VpcId": "vpc-0abcdef1234567890",
            "State": "available"
        }
    ]
}
```

---

## ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë¬¸ì œ 1: `InvalidSubnetID` ì˜¤ë¥˜
**ì¦ìƒ:** ì„œë¸Œë„· IDê°€ ì˜ëª»ëœ ê²½ìš° ë°œìƒ  
**ì›ì¸:** ì˜ëª»ëœ ì„œë¸Œë„· IDë¥¼ ì‚¬ìš©í–ˆê±°ë‚˜, ì„œë¸Œë„·ì´ ìƒì„±ë˜ì§€ ì•Šì•˜ìŒ  
**í•´ê²° ë°©ë²•:**
```bash
# ì„œë¸Œë„· ëª©ë¡ í™•ì¸
aws ec2 describe-subnets
```

### ë¬¸ì œ 2: `InvalidRouteTableID` ì˜¤ë¥˜
**ì¦ìƒ:** ë¼ìš°íŒ… í…Œì´ë¸” IDê°€ ì˜ëª»ëœ ê²½ìš° ë°œìƒ  
**ì›ì¸:** ì˜ëª»ëœ ë¼ìš°íŒ… í…Œì´ë¸” IDë¥¼ ì‚¬ìš©í–ˆê±°ë‚˜, ë¼ìš°íŒ… í…Œì´ë¸”ì´ ìƒì„±ë˜ì§€ ì•Šì•˜ìŒ  
**í•´ê²° ë°©ë²•:**
```bash
# ë¼ìš°íŒ… í…Œì´ë¸” ëª©ë¡ í™•ì¸
aws ec2 describe-route-tables
```

### ë¬¸ì œ 3: ê¶Œí•œ ì˜¤ë¥˜ (AccessDenied)
**ì¦ìƒ:** `AccessDenied` ë˜ëŠ” `UnauthorizedAccess` ì˜¤ë¥˜  
**í•´ê²° ë°©ë²•:**
1. IAM ì‚¬ìš©ì ê¶Œí•œ í™•ì¸  
2. `ec2:CreateVpc`, `ec2:CreateSubnet`, `ec2:CreateRouteTable` ê¶Œí•œ ì¶”ê°€  
```bash
# í˜„ì¬ ì‚¬ìš©ì ê¶Œí•œ í™•ì¸
aws sts get-caller-identity
```

---

## ğŸ§¹ ë¦¬ì†ŒìŠ¤ ì •ë¦¬ (í•„ìˆ˜!)

> **âš ï¸ ì¤‘ìš”:** ì‹¤ìŠµ ì™„ë£Œ í›„ ë°˜ë“œì‹œ ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•˜ì„¸ìš”!  
> ì •ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ **ì˜ˆìƒì¹˜ ëª»í•œ ë¹„ìš©**ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì •ë¦¬í•  ë¦¬ì†ŒìŠ¤ ëª©ë¡
- [ ] VPC (vpc-0abcdef1234567890)  
- [ ] í¼ë¸”ë¦­ ì„œë¸Œë„· (subnet-0123456789abcdef0)  
- [ ] í”„ë¼ì´ë¹— ì„œë¸Œë„· (subnet-0123456789abcdef1)  
- [ ] ë¼ìš°íŒ… í…Œì´ë¸” (rtb-0123456789abcdef0, rtb-0123456789abcdef1)  
- [ ] NAT ê²Œì´íŠ¸ì›¨ì´ (nat-0123456789abcdef0)  

### ë¦¬ì†ŒìŠ¤ ì •ë¦¬ ëª…ë ¹ì–´
```bash
# 1. NAT ê²Œì´íŠ¸ì›¨ì´ ì‚­ì œ
aws ec2 delete-nat-gateway --nat-gateway-id nat-0123456789abcdef0

# 2. ë¼ìš°íŒ… í…Œì´ë¸” ì‚­ì œ
aws ec2 delete-route-table --route-table-id rtb-0123456789abcdef1
aws ec2 delete-route-table --route-table-id rtb-0123456789abcdef0

# 3. ì„œë¸Œë„· ì‚­ì œ
aws ec2 delete-subnet --subnet-id subnet-0123456789abcdef1
aws ec2 delete-subnet --subnet-id subnet-0123456789abcdef0

# 4. VPC ì‚­ì œ
aws ec2 delete-vpc --vpc-id vpc-0abcdef1234567890
```

### ì •ë¦¬ ì™„ë£Œ í™•ì¸
```bash
# ë¦¬ì†ŒìŠ¤ê°€ ëª¨ë‘ ì‚­ì œë˜ì—ˆëŠ”ì§€ í™•ì¸
aws ec2 describe-vpcs
aws ec2 describe-subnets
aws ec2 describe-route-tables
```

---

## ğŸ“š ì¶”ê°€ í•™ìŠµ ìë£Œ
- [AWS VPC ê³µì‹ ë¬¸ì„œ](https://docs.aws.amazon.com/vpc/latest/userguide/what-is-vpc.html)  
- [VPC ì„¤ê³„ ê°€ì´ë“œ](https://aws.amazon.com/what-is-vpc/)  
- [NAT ê²Œì´íŠ¸ì›¨ì´ vs NAT ì¸ìŠ¤í„´ìŠ¤ ë¹„êµ](https://aws.amazon.com/what-is-nat-gateway/)