# Week 2 Day 5 ì‹¤ìŠµ ê°€ì´ë“œ

## âš ï¸ í•„ìˆ˜ ì‚¬ì „ ì¤€ë¹„

> **ğŸš¨ ì¤‘ìš”:** ì‹¤ìŠµì„ ì‹œì‘í•˜ê¸° ì „ì— ë°˜ë“œì‹œ ì•„ë˜ ê°€ì´ë“œë¥¼ ë¨¼ì € ì™„ë£Œí•˜ì„¸ìš”!

### ğŸ“š í•„ìˆ˜ ì„ í–‰ ë¬¸ì„œ
ì‹¤ìŠµì„ ì‹œì‘í•˜ê¸° ì „ì— ë‹¤ìŒ ë¬¸ì„œë“¤ì„ **ë°˜ë“œì‹œ** ë¨¼ì € ì½ê³  ì™„ë£Œí•˜ì„¸ìš”:

| ë¬¸ì„œ | ì„¤ëª… | í•„ìˆ˜ ì—¬ë¶€ |
|-----|------|----------|
| [AWS ê³„ì • ìƒì„± ê°€ì´ë“œ](../prerequisites/aws-account-setup.md) | AWS ê³„ì •ì´ ì—†ë‹¤ë©´ ì´ ê°€ì´ë“œë¥¼ ë”°ë¼ ê³„ì •ì„ ìƒì„±í•˜ì„¸ìš” | âœ… í•„ìˆ˜ |
| [AWS CLI ì„¤ì¹˜ ê°€ì´ë“œ](../prerequisites/aws-cli-setup.md) | AWS CLI ì„¤ì¹˜ ë° ì„¤ì • ë°©ë²• | âœ… í•„ìˆ˜ |
| [IAM ì‚¬ìš©ì ìƒì„± ê°€ì´ë“œ](../prerequisites/iam-user-setup.md) | ì‹¤ìŠµìš© IAM ì‚¬ìš©ì ìƒì„± ë°©ë²• | âœ… í•„ìˆ˜ |
| [VS Code ì„¤ì • ê°€ì´ë“œ](../prerequisites/vscode-setup.md) | ê°œë°œ í™˜ê²½ ì„¤ì • (ì„ íƒ) | ì„ íƒ |

### âœ… ì‚¬ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸
ì‹¤ìŠµì„ ì‹œì‘í•˜ê¸° ì „ ì•„ë˜ í•­ëª©ë“¤ì„ ëª¨ë‘ í™•ì¸í•˜ì„¸ìš”:

- [ ] AWS ê³„ì •ì´ ìˆê³  ë¡œê·¸ì¸í•  ìˆ˜ ìˆë‹¤
- [ ] AWS CLIê°€ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ (`aws --version` ìœ¼ë¡œ í™•ì¸)
- [ ] AWS CLI ìê²© ì¦ëª…ì´ ì„¤ì •ë˜ì–´ ìˆë‹¤ (`aws sts get-caller-identity` ë¡œ í™•ì¸)
- [ ] ì‹¤ìŠµì— í•„ìš”í•œ IAM ê¶Œí•œì´ ìˆë‹¤
- [ ] ê²°ì œ ì•Œë¦¼ì´ ì„¤ì •ë˜ì–´ ìˆë‹¤ (ì˜ˆìƒì¹˜ ëª»í•œ ë¹„ìš© ë°©ì§€)

```bash
# ì‚¬ì „ ì¤€ë¹„ í™•ì¸ ëª…ë ¹ì–´
aws --version
aws sts get-caller-identity
```

> **âš ï¸ ì£¼ì˜:** ìœ„ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ëª¨ë‘ ì™„ë£Œë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì‹¤ìŠµì„ ì§„í–‰í•˜ì§€ ë§ˆì„¸ìš”!
> ë¬¸ì œ ë°œìƒ ì‹œ í•´ê²°ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ¯ ì‹¤ìŠµ ëª©í‘œ
ì´ ì‹¤ìŠµì„ ì™„ë£Œí•˜ë©´ ë‹¤ìŒì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- [ ] **S3 ë²„í‚· ìƒì„± ë° ì •ì±… ì„¤ì •** (ë²„í‚· ì •ì±…, ì•”í˜¸í™”, ìˆ˜ëª…ì£¼ê¸° ì •ì±…)
- [ ] **CloudFront ë°°í¬** (S3 ë²„í‚·ìœ¼ë¡œì˜ ë°°í¬ ë° ìºì‹œ ì„¤ì •)
- [ ] **Route 53 ë¼ìš°íŒ… ì •ì±… êµ¬ì„±** (ì¤‘ëŸ‰ ê¸°ë°˜ ë¼ìš°íŒ…)
- [ ] **Global Accelerator ì„¤ì •** (DNS ê¸°ë°˜ ì „ì—­ ê°€ì†)

## â±ï¸ ì˜ˆìƒ ì†Œìš” ì‹œê°„
- ì „ì²´ ì‹¤ìŠµ: ì•½ 30-45ë¶„
- Step 1: ì•½ 10ë¶„
- Step 2: ì•½ 15ë¶„
- Step 3: ì•½ 10ë¶„
- ë¦¬ì†ŒìŠ¤ ì •ë¦¬: ì•½ 5ë¶„

---

## ğŸ“ ì‹¤ìŠµ ë‹¨ê³„

### Step 1: S3 ë²„í‚· ìƒì„± ë° ì •ì±… ì„¤ì • (ì•½ 10ë¶„)

#### 1.1 S3 ë²„í‚· ìƒì„±
```bash
# CLIë¡œ S3 ë²„í‚· ìƒì„±
aws s3api create-bucket --bucket my-unique-bucket-name --region ap-northeast-2
```

**ì˜ˆìƒ ì¶œë ¥:**
```
{
    "Location": "https://my-unique-bucket-name.s3.ap-northeast-2.amazonaws.com/"
}
```

> **ğŸ’¡ ì„¤ëª…:** `ap-northeast-2` ë¦¬ì „ì„ ì„ íƒí•œ ì´ìœ ëŠ” AWS Free Tier ì§€ì› ë¦¬ì „ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë²„í‚· ì´ë¦„ì€ ì „ì—­ì ìœ¼ë¡œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤.

#### 1.2 ë²„í‚· ì •ì±… ì„¤ì •
**AWS ì½˜ì†”ì—ì„œ:**
1. ì„œë¹„ìŠ¤ ê²€ìƒ‰ì°½ì— "S3" ì…ë ¥ í›„ í´ë¦­
2. "ë²„í‚· ìƒì„±" > "ë²„í‚· ì´ë¦„" ì…ë ¥ í›„ "ë²„í‚· ìƒì„±" í´ë¦­
3. "ë²„í‚· ì •ì±…" íƒ­ì—ì„œ "ë²„í‚· ì •ì±… ìƒì„±" í´ë¦­
4. ì •ì±… í…œí”Œë¦¿ì—ì„œ "Amazon S3" > "ë²„í‚· ì •ì±…" ì„ íƒ

> **ğŸ“¸ í™”ë©´ í™•ì¸:** "ë²„í‚· ì •ì±…" íƒ­ì— "my-unique-bucket-name"ì´ ë³´ì´ë©´ ì •ìƒì…ë‹ˆë‹¤.

#### âœ… Step 1 ì™„ë£Œ í™•ì¸
- [ ] ë²„í‚· ìƒì„± ì™„ë£Œ (ì½˜ì†”ì—ì„œ í™•ì¸)
- [ ] ë²„í‚· ì •ì±… ì„¤ì • ì™„ë£Œ (ì •ì±… í¸ì§‘ê¸°ì—ì„œ í™•ì¸)

---

### Step 2: S3 ìˆ˜ëª…ì£¼ê¸° ì •ì±… ë° ì•”í˜¸í™” ì„¤ì • (ì•½ 15ë¶„)

#### 2.1 ìˆ˜ëª…ì£¼ê¸° ì •ì±… ìƒì„±
```bash
# CLIë¡œ ìˆ˜ëª…ì£¼ê¸° ì •ì±… ìƒì„±
aws s3api put-bucket-lifecycle-configuration --bucket my-unique-bucket-name --region ap-northeast-2 --lifecycle-configuration '{
  "Rules": [
    {
      "ExpirationInDays": 30,
      "Filter": {
        "Prefix": "logs/"
      },
      "Status": "Enabled",
      "Transition": {
        "Days": 7,
        "StorageClass": "DEEP_ARCHIVE"
      }
    }
  ]
}'
```

> **ğŸ’¡ ì„¤ëª…:** ë¡œê·¸ íŒŒì¼ì€ 7ì¼ í›„ DEEP_ARCHIVE ìŠ¤í† ë¦¬ì§€ í´ë˜ìŠ¤ë¡œ ì´ë™í•˜ê³ , 30ì¼ í›„ ì‚­ì œë©ë‹ˆë‹¤.

#### 2.2 ì„œë²„ì‚¬ì´ë“œ ì•”í˜¸í™” ì„¤ì •
**AWS ì½˜ì†”ì—ì„œ:**
1. ë²„í‚· ëª©ë¡ì—ì„œ "my-unique-bucket-name" í´ë¦­
2. "ë²„í‚· ì„¤ì •" > "ë²„í‚· ì •ì±… ë° ì•”í˜¸í™”" > "ì•”í˜¸í™”" íƒ­
3. "ì„œë²„ì‚¬ì´ë“œ ì•”í˜¸í™”"ë¥¼ í™œì„±í™”í•˜ê³  "aws:kms"ë¥¼ ì„ íƒ
4. KMS í‚¤ë¥¼ ì…ë ¥í•œ í›„ "ì €ì¥" í´ë¦­

> **ğŸ“¸ í™”ë©´ í™•ì¸:** "ì„œë²„ì‚¬ì´ë“œ ì•”í˜¸í™”" ì„¹ì…˜ì— í™œì„±í™”ëœ ìƒíƒœê°€ ë³´ì´ë©´ ì •ìƒì…ë‹ˆë‹¤.

#### âœ… Step 2 ì™„ë£Œ í™•ì¸
- [ ] ìˆ˜ëª…ì£¼ê¸° ì •ì±…ì´ ì ìš©ë¨ (S3 ë²„í‚· ì •ì±…ì—ì„œ í™•ì¸)
- [ ] ì„œë²„ì‚¬ì´ë“œ ì•”í˜¸í™” í™œì„±í™”ë¨ (ì•”í˜¸í™” íƒ­ì—ì„œ í™•ì¸)

---

### Step 3: CloudFront ë°°í¬ ë° Route 53 ë¼ìš°íŒ… (ì•½ 10ë¶„)

#### 3.1 CloudFront ë°°í¬
```bash
# CLIë¡œ CloudFront ë°°í¬
aws cloudfront create-distribution --origin-identifiers "my-s3-origin" --default-root-object "index.html" --viewer_protocol_policy "allow-all" --price-class "PriceClass_100" --region ap-northeast-2
```

**ì˜ˆìƒ ì¶œë ¥:**
```
{
    "Distribution": {
        "Id": "E1ABCDEFGHIJKL",
        "ARN": "arn:aws:cloudfront::123456789012:distribution/E1ABCDEFGHIJKL",
        ...
    }
}
```

> **ğŸ’¡ ì„¤ëª…:** `PriceClass_100`ì€ Free Tier ì§€ì› ê°€ê²© ê³„ì¸µì…ë‹ˆë‹¤. `allow-all`ì€ HTTP/HTTPS ëª¨ë‘ ì§€ì›í•©ë‹ˆë‹¤.

#### 3.2 Route 53 ë¼ìš°íŒ… ì •ì±… ì„¤ì •
**AWS ì½˜ì†”ì—ì„œ:**
1. ì„œë¹„ìŠ¤ ê²€ìƒ‰ì°½ì— "Route 53" ì…ë ¥ í›„ í´ë¦­
2. "í˜¸ìŠ¤íŒ… ì •ì±…" > "ì¤‘ëŸ‰ ê¸°ë°˜ ë¼ìš°íŒ…" í´ë¦­
3. "DNS ë ˆì½”ë“œ" ìƒì„± í›„ "CloudFront ë°°í¬ URL" ì…ë ¥
4. "ì¤‘ëŸ‰ ë¹„ìœ¨"ì„ 100%ë¡œ ì„¤ì • í›„ "ì €ì¥" í´ë¦­

> **ğŸ“¸ í™”ë©´ í™•ì¸:** "DNS ë ˆì½”ë“œ"ê°€ ìƒì„±ë˜ê³  "ì¤‘ëŸ‰ ë¹„ìœ¨"ì´ 100%ë¡œ í‘œì‹œë˜ë©´ ì •ìƒì…ë‹ˆë‹¤.

#### âœ… Step 3 ì™„ë£Œ í™•ì¸
- [ ] CloudFront ë°°í¬ ì™„ë£Œ (ë°°í¬ ID í™•ì¸)
- [ ] Route 53 ë¼ìš°íŒ… ì •ì±… ì ìš©ë¨ (DNS ë ˆì½”ë“œ í™•ì¸)

---

## âœ… ì‹¤ìŠµ ì™„ë£Œ í™•ì¸

### ìµœì¢… í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] S3 ë²„í‚· ìƒì„± ë° ì •ì±… ì„¤ì • ì™„ë£Œ
- [ ] CloudFront ë°°í¬ ì™„ë£Œ
- [ ] Route 53 ë¼ìš°íŒ… ì •ì±… ì ìš© ì™„ë£Œ
- [ ] Global Accelerator ì„¤ì • ì™„ë£Œ

### ì˜ˆìƒ ìµœì¢… ê²°ê³¼
```bash
# ìµœì¢… ë¦¬ì†ŒìŠ¤ í™•ì¸
aws s3 ls my-unique-bucket-name
aws cloudfront get-distribution --id E1ABCDEFGHIJKL
```

**ì˜ˆìƒ ì¶œë ¥:**
```
2023-10-05 00:00:00  logs/
2023-10-05 00:00:00  data/
```

---

## ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë¬¸ì œ 1: "InvalidLocationConstraint" ì˜¤ë¥˜
**ì¦ìƒ:** `The location constraint is invalid, or not supported in this region.`

**ì›ì¸:** `ap-northeast-2` ë¦¬ì „ì´ ì•„ë‹Œ ë‹¤ë¥¸ ë¦¬ì „ì—ì„œ S3 ë²„í‚· ìƒì„± ì‹œ ë°œìƒí•©ë‹ˆë‹¤.

**í•´ê²° ë°©ë²•:**
```bash
# ë°˜ë“œì‹œ ap-northeast-2 ë¦¬ì „ ì‚¬ìš©
aws s3api create-bucket --bucket my-unique-bucket-name --region ap-northeast-2
```

### ë¬¸ì œ 2: "AccessDenied" ì˜¤ë¥˜
**ì¦ìƒ:** `AccessDenied` ë˜ëŠ” `UnauthorizedAccess` ì˜¤ë¥˜

**í•´ê²° ë°©ë²•:**
1. IAM ì‚¬ìš©ì ê¶Œí•œ í™•ì¸
2. `AmazonS3FullAccess` ì •ì±… ì—°ê²°
```bash
# í˜„ì¬ ì‚¬ìš©ì ê¶Œí•œ í™•ì¸
aws sts get-caller-identity
```

---

## ğŸ§¹ ë¦¬ì†ŒìŠ¤ ì •ë¦¬ (í•„ìˆ˜!)

> **âš ï¸ ì¤‘ìš”:** ì‹¤ìŠµ ì™„ë£Œ í›„ ë°˜ë“œì‹œ ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•˜ì„¸ìš”!
> ì •ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ **ì˜ˆìƒì¹˜ ëª»í•œ ë¹„ìš©**ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì •ë¦¬í•  ë¦¬ì†ŒìŠ¤ ëª©ë¡
- [ ] S3 ë²„í‚· (`my-unique-bucket-name`)
- [ ] CloudFront ë°°í¬ (`E1ABCDEFGHIJKL`)
- [ ] Route 53 DNS ë ˆì½”ë“œ

### ë¦¬ì†ŒìŠ¤ ì •ë¦¬ ëª…ë ¹ì–´
```bash
# 1. S3 ë²„í‚· ì‚­ì œ
aws s3 rb s3://my-unique-bucket-name --force

# 2. CloudFront ë°°í¬ ì‚­ì œ
aws cloudfront delete-distribution --id E1ABCDEFGHIJKL

# 3. Route 53 DNS ë ˆì½”ë“œ ì‚­ì œ
aws route53 delete-record --hosted-zone-id Z123456789012 --record-name example.com --record-type A
```

### ì •ë¦¬ ì™„ë£Œ í™•ì¸
```bash
# ë¦¬ì†ŒìŠ¤ê°€ ëª¨ë‘ ì‚­ì œë˜ì—ˆëŠ”ì§€ í™•ì¸
aws s3 ls
aws cloudfront list-distributions
```

---

## ğŸ“š ì¶”ê°€ í•™ìŠµ ìë£Œ
- [AWS S3 ìŠ¤í† ë¦¬ì§€ í´ë˜ìŠ¤ ê°€ì´ë“œ](https://docs.aws.amazon.com/ko-kr/AmazonS3/latest/dev/storage-class-intro.html)
- [CloudFront ë°°í¬ íŠœí† ë¦¬ì–¼](https://docs.aws.amazon.com/ko-kr/CloudFront/latest/DeveloperGuide/distribution-create.html)
- [Route 53 ë¼ìš°íŒ… ì •ì±… ë¬¸ì„œ](https://docs.aws.amazon.com/ko-kr/Route53/latest/DeveloperGuide/routing-policies.html)